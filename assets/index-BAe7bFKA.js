function Dh(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Uh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $h={exports:{}},Ja={},Mh={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),rg=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),og=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),cg=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),Tc=Symbol.iterator;function hg(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var Fh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zh=Object.assign,Bh={};function ns(e,t,r){this.props=e,this.context=t,this.refs=Bh,this.updater=r||Fh}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wh(){}Wh.prototype=ns.prototype;function hu(e,t,r){this.props=e,this.context=t,this.refs=Bh,this.updater=r||Fh}var fu=hu.prototype=new Wh;fu.constructor=hu;zh(fu,ns.prototype);fu.isPureReactComponent=!0;var jc=Array.isArray,Vh=Object.prototype.hasOwnProperty,pu={current:null},Hh={key:!0,ref:!0,__self:!0,__source:!0};function qh(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Vh.call(t,n)&&!Hh.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:vi,type:e,key:i,ref:a,props:s,_owner:pu.current}}function fg(e,t){return{$$typeof:vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mu(e){return typeof e=="object"&&e!==null&&e.$$typeof===vi}function pg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Rc=/\/+/g;function bo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pg(""+e.key):t.toString(36)}function ia(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vi:case rg:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+bo(a,0):n,jc(s)?(r="",e!=null&&(r=e.replace(Rc,"$&/")+"/"),ia(s,t,r,"",function(u){return u})):s!=null&&(mu(s)&&(s=fg(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Rc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",jc(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+bo(i,o);a+=ia(i,t,r,l,s)}else if(l=hg(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+bo(i,o++),a+=ia(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ai(e,t,r){if(e==null)return e;var n=[],s=0;return ia(e,n,"","",function(i){return t.call(r,i,s++)}),n}function mg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},aa={transition:null},gg={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:aa,ReactCurrentOwner:pu};function Kh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ai,forEach:function(e,t,r){Ai(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ai(e,function(){t++}),t},toArray:function(e){return Ai(e,function(t){return t})||[]},only:function(e){if(!mu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=ns;X.Fragment=ng;X.Profiler=ig;X.PureComponent=hu;X.StrictMode=sg;X.Suspense=ug;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gg;X.act=Kh;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zh({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=pu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Vh.call(t,l)&&!Hh.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:vi,type:e.type,key:s,ref:i,props:n,_owner:a}};X.createContext=function(e){return e={$$typeof:og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ag,_context:e},e.Consumer=e};X.createElement=qh;X.createFactory=function(e){var t=qh.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:lg,render:e}};X.isValidElement=mu;X.lazy=function(e){return{$$typeof:dg,_payload:{_status:-1,_result:e},_init:mg}};X.memo=function(e,t){return{$$typeof:cg,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=aa.transition;aa.transition={};try{e()}finally{aa.transition=t}};X.unstable_act=Kh;X.useCallback=function(e,t){return Qe.current.useCallback(e,t)};X.useContext=function(e){return Qe.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};X.useEffect=function(e,t){return Qe.current.useEffect(e,t)};X.useId=function(){return Qe.current.useId()};X.useImperativeHandle=function(e,t,r){return Qe.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Qe.current.useMemo(e,t)};X.useReducer=function(e,t,r){return Qe.current.useReducer(e,t,r)};X.useRef=function(e){return Qe.current.useRef(e)};X.useState=function(e){return Qe.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return Qe.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return Qe.current.useTransition()};X.version="18.3.1";Mh.exports=X;var b=Mh.exports;const vg=Uh(b),yg=Dh({__proto__:null,default:vg},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=b,_g=Symbol.for("react.element"),Sg=Symbol.for("react.fragment"),kg=Object.prototype.hasOwnProperty,Eg=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bg={key:!0,ref:!0,__self:!0,__source:!0};function Gh(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)kg.call(t,n)&&!bg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_g,type:e,key:i,ref:a,props:s,_owner:Eg.current}}Ja.Fragment=Sg;Ja.jsx=Gh;Ja.jsxs=Gh;$h.exports=Ja;var m=$h.exports,Jh={exports:{}},ft={},Qh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,q){var J=O.length;O.push(q);e:for(;0<J;){var ae=J-1>>>1,oe=O[ae];if(0<s(oe,q))O[ae]=q,O[J]=oe,J=ae;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var q=O[0],J=O.pop();if(J!==q){O[0]=J;e:for(var ae=0,oe=O.length,Et=oe>>>1;ae<Et;){var st=2*(ae+1)-1,He=O[st],qe=st+1,mt=O[qe];if(0>s(He,J))qe<oe&&0>s(mt,He)?(O[ae]=mt,O[qe]=J,ae=qe):(O[ae]=He,O[st]=J,ae=st);else if(qe<oe&&0>s(mt,J))O[ae]=mt,O[qe]=J,ae=qe;else break e}}return q}function s(O,q){var J=O.sortIndex-q.sortIndex;return J!==0?J:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,g=!1,y=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=O)n(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=r(u)}}function E(O){if(w=!1,v(O),!y)if(r(l)!==null)y=!0,ar(T);else{var q=r(u);q!==null&&or(E,q.startTime-O)}}function T(O,q){y=!1,w&&(w=!1,p(j),j=-1),g=!0;var J=h;try{for(v(q),d=r(l);d!==null&&(!(d.expirationTime>q)||O&&!I());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var oe=ae(d.expirationTime<=q);q=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===r(l)&&n(l),v(q)}else n(l);d=r(l)}if(d!==null)var Et=!0;else{var st=r(u);st!==null&&or(E,st.startTime-q),Et=!1}return Et}finally{d=null,h=J,g=!1}}var R=!1,S=null,j=-1,M=5,A=-1;function I(){return!(e.unstable_now()-A<M)}function G(){if(S!==null){var O=e.unstable_now();A=O;var q=!0;try{q=S(!0,O)}finally{q?Z():(R=!1,S=null)}}else R=!1}var Z;if(typeof f=="function")Z=function(){f(G)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,kt=Re.port2;Re.port1.onmessage=G,Z=function(){kt.postMessage(null)}}else Z=function(){k(G,0)};function ar(O){S=O,R||(R=!0,Z())}function or(O,q){j=k(function(){O(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,ar(T))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var J=h;h=q;try{return O()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=h;h=O;try{return q()}finally{h=J}},e.unstable_scheduleCallback=function(O,q,J){var ae=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ae+J:ae):J=ae,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=J+oe,O={id:c++,callback:q,priorityLevel:O,startTime:J,expirationTime:oe,sortIndex:-1},J>ae?(O.sortIndex=J,t(u,O),r(l)===null&&O===r(u)&&(w?(p(j),j=-1):w=!0,or(E,J-ae))):(O.sortIndex=oe,t(l,O),y||g||(y=!0,ar(T))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var q=h;return function(){var J=h;h=q;try{return O.apply(this,arguments)}finally{h=J}}}})(Yh);Qh.exports=Yh;var xg=Qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=b,ht=xg;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xh=new Set,Hs={};function un(e,t){Gn(e,t),Gn(e+"Capture",t)}function Gn(e,t){for(Hs[e]=t,e=0;e<t.length;e++)Xh.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),al=Object.prototype.hasOwnProperty,Tg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pc={},Nc={};function jg(e){return al.call(Nc,e)?!0:al.call(Pc,e)?!1:Tg.test(e)?Nc[e]=!0:(Pc[e]=!0,!1)}function Rg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pg(e,t,r,n){if(t===null||typeof t>"u"||Rg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var gu=/[\-:]([a-z])/g;function vu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gu,vu);Fe[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gu,vu);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gu,vu);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function yu(e,t,r,n){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pg(t,r,s,n)&&(r=null),n||s===null?jg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rr=Cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Li=Symbol.for("react.element"),jn=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),wu=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),Zh=Symbol.for("react.provider"),ef=Symbol.for("react.context"),_u=Symbol.for("react.forward_ref"),ll=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),tf=Symbol.for("react.offscreen"),Oc=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=Oc&&e[Oc]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,xo;function Cs(e){if(xo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xo=t&&t[1]||""}return`
`+xo+e}var Co=!1;function To(e,t){if(!e||Co)return"";Co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Co=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cs(e):""}function Ng(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=To(e.type,!1),e;case 11:return e=To(e.type.render,!1),e;case 1:return e=To(e.type,!0),e;default:return""}}function cl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rn:return"Fragment";case jn:return"Portal";case ol:return"Profiler";case wu:return"StrictMode";case ll:return"Suspense";case ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ef:return(e.displayName||"Context")+".Consumer";case Zh:return(e._context.displayName||"Context")+".Provider";case _u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Su:return t=e.displayName||null,t!==null?t:cl(e.type)||"Memo";case hr:t=e._payload,e=e._init;try{return cl(e(t))}catch{}}return null}function Og(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cl(t);case 8:return t===wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ag(e){var t=rf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ii(e){e._valueTracker||(e._valueTracker=Ag(e))}function nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dl(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ac(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sf(e,t){t=t.checked,t!=null&&yu(e,"checked",t,!1)}function hl(e,t){sf(e,t);var r=Pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fl(e,t.type,r):t.hasOwnProperty("defaultValue")&&fl(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fl(e,t,r){(t!=="number"||ya(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ts=Array.isArray;function zn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ic(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Ts(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pr(r)}}function af(e,t){var r=Pr(t.value),n=Pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ml(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?of(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Di,lf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lg=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(e){Lg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),As[t]=As[e]})});function uf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||As.hasOwnProperty(e)&&As[e]?(""+t).trim():t+"px"}function cf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=uf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ig=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(e,t){if(t){if(Ig[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wl=null,Bn=null,Wn=null;function Uc(e){if(e=_i(e)){if(typeof wl!="function")throw Error(N(280));var t=e.stateNode;t&&(t=eo(t),wl(e.stateNode,e.type,t))}}function df(e){Bn?Wn?Wn.push(e):Wn=[e]:Bn=e}function hf(){if(Bn){var e=Bn,t=Wn;if(Wn=Bn=null,Uc(e),t)for(e=0;e<t.length;e++)Uc(t[e])}}function ff(e,t){return e(t)}function pf(){}var jo=!1;function mf(e,t,r){if(jo)return e(t,r);jo=!0;try{return ff(e,t,r)}finally{jo=!1,(Bn!==null||Wn!==null)&&(pf(),hf())}}function Ks(e,t){var r=e.stateNode;if(r===null)return null;var n=eo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var _l=!1;if(Yt)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){_l=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{_l=!1}function Dg(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ls=!1,wa=null,_a=!1,Sl=null,Ug={onError:function(e){Ls=!0,wa=e}};function $g(e,t,r,n,s,i,a,o,l){Ls=!1,wa=null,Dg.apply(Ug,arguments)}function Mg(e,t,r,n,s,i,a,o,l){if($g.apply(this,arguments),Ls){if(Ls){var u=wa;Ls=!1,wa=null}else throw Error(N(198));_a||(_a=!0,Sl=u)}}function cn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $c(e){if(cn(e)!==e)throw Error(N(188))}function Fg(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $c(s),e;if(i===n)return $c(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function vf(e){return e=Fg(e),e!==null?yf(e):null}function yf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yf(e);if(t!==null)return t;e=e.sibling}return null}var wf=ht.unstable_scheduleCallback,Mc=ht.unstable_cancelCallback,zg=ht.unstable_shouldYield,Bg=ht.unstable_requestPaint,be=ht.unstable_now,Wg=ht.unstable_getCurrentPriorityLevel,Eu=ht.unstable_ImmediatePriority,_f=ht.unstable_UserBlockingPriority,Sa=ht.unstable_NormalPriority,Vg=ht.unstable_LowPriority,Sf=ht.unstable_IdlePriority,Qa=null,Ft=null;function Hg(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Qa,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Gg,qg=Math.log,Kg=Math.LN2;function Gg(e){return e>>>=0,e===0?32:31-(qg(e)/Kg|0)|0}var Ui=64,$i=4194304;function js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ka(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=js(o):(i&=a,i!==0&&(n=js(i)))}else a=r&~s,a!==0?n=js(a):i!==0&&(n=js(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ot(t),s=1<<r,n|=e[r],t&=~s;return n}function Jg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ot(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Jg(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kf(){var e=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),e}function Ro(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=r}function Yg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ot(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function bu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ie=0;function Ef(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bf,xu,xf,Cf,Tf,El=!1,Mi=[],Sr=null,kr=null,Er=null,Gs=new Map,Js=new Map,mr=[],Xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fc(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(t.pointerId)}}function ms(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=_i(t),t!==null&&xu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zg(e,t,r,n,s){switch(t){case"focusin":return Sr=ms(Sr,e,t,r,n,s),!0;case"dragenter":return kr=ms(kr,e,t,r,n,s),!0;case"mouseover":return Er=ms(Er,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Gs.set(i,ms(Gs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Js.set(i,ms(Js.get(i)||null,e,t,r,n,s)),!0}return!1}function jf(e){var t=Gr(e.target);if(t!==null){var r=cn(t);if(r!==null){if(t=r.tag,t===13){if(t=gf(r),t!==null){e.blockedOn=t,Tf(e.priority,function(){xf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yl=n,r.target.dispatchEvent(n),yl=null}else return t=_i(r),t!==null&&xu(t),e.blockedOn=r,!1;t.shift()}return!0}function zc(e,t,r){oa(e)&&r.delete(t)}function ev(){El=!1,Sr!==null&&oa(Sr)&&(Sr=null),kr!==null&&oa(kr)&&(kr=null),Er!==null&&oa(Er)&&(Er=null),Gs.forEach(zc),Js.forEach(zc)}function gs(e,t){e.blockedOn===t&&(e.blockedOn=null,El||(El=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,ev)))}function Qs(e){function t(s){return gs(s,e)}if(0<Mi.length){gs(Mi[0],e);for(var r=1;r<Mi.length;r++){var n=Mi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sr!==null&&gs(Sr,e),kr!==null&&gs(kr,e),Er!==null&&gs(Er,e),Gs.forEach(t),Js.forEach(t),r=0;r<mr.length;r++)n=mr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)jf(r),r.blockedOn===null&&mr.shift()}var Vn=rr.ReactCurrentBatchConfig,Ea=!0;function tv(e,t,r,n){var s=ie,i=Vn.transition;Vn.transition=null;try{ie=1,Cu(e,t,r,n)}finally{ie=s,Vn.transition=i}}function rv(e,t,r,n){var s=ie,i=Vn.transition;Vn.transition=null;try{ie=4,Cu(e,t,r,n)}finally{ie=s,Vn.transition=i}}function Cu(e,t,r,n){if(Ea){var s=bl(e,t,r,n);if(s===null)Mo(e,t,n,ba,r),Fc(e,n);else if(Zg(s,e,t,r,n))n.stopPropagation();else if(Fc(e,n),t&4&&-1<Xg.indexOf(e)){for(;s!==null;){var i=_i(s);if(i!==null&&bf(i),i=bl(e,t,r,n),i===null&&Mo(e,t,n,ba,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Mo(e,t,n,null,r)}}var ba=null;function bl(e,t,r,n){if(ba=null,e=ku(n),e=Gr(e),e!==null)if(t=cn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ba=e,null}function Rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wg()){case Eu:return 1;case _f:return 4;case Sa:case Vg:return 16;case Sf:return 536870912;default:return 16}default:return 16}}var yr=null,Tu=null,la=null;function Pf(){if(la)return la;var e,t=Tu,r=t.length,n,s="value"in yr?yr.value:yr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return la=s.slice(e,1<n?1-n:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function Bc(){return!1}function pt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fi:Bc,this.isPropagationStopped=Bc,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=pt(ss),wi=we({},ss,{view:0,detail:0}),nv=pt(wi),Po,No,vs,Ya=we({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(Po=e.screenX-vs.screenX,No=e.screenY-vs.screenY):No=Po=0,vs=e),Po)},movementY:function(e){return"movementY"in e?e.movementY:No}}),Wc=pt(Ya),sv=we({},Ya,{dataTransfer:0}),iv=pt(sv),av=we({},wi,{relatedTarget:0}),Oo=pt(av),ov=we({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),lv=pt(ov),uv=we({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cv=pt(uv),dv=we({},ss,{data:0}),Vc=pt(dv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pv[e])?!!t[e]:!1}function Ru(){return mv}var gv=we({},wi,{key:function(e){if(e.key){var t=hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vv=pt(gv),yv=we({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=pt(yv),wv=we({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),_v=pt(wv),Sv=we({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=pt(Sv),Ev=we({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bv=pt(Ev),xv=[9,13,27,32],Pu=Yt&&"CompositionEvent"in window,Is=null;Yt&&"documentMode"in document&&(Is=document.documentMode);var Cv=Yt&&"TextEvent"in window&&!Is,Nf=Yt&&(!Pu||Is&&8<Is&&11>=Is),qc=" ",Kc=!1;function Of(e,t){switch(e){case"keyup":return xv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function Tv(e,t){switch(e){case"compositionend":return Af(t);case"keypress":return t.which!==32?null:(Kc=!0,qc);case"textInput":return e=t.data,e===qc&&Kc?null:e;default:return null}}function jv(e,t){if(Pn)return e==="compositionend"||!Pu&&Of(e,t)?(e=Pf(),la=Tu=yr=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nf&&t.locale!=="ko"?null:t.data;default:return null}}var Rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rv[e.type]:t==="textarea"}function Lf(e,t,r,n){df(n),t=xa(t,"onChange"),0<t.length&&(r=new ju("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ds=null,Ys=null;function Pv(e){Hf(e,0)}function Xa(e){var t=An(e);if(nf(t))return e}function Nv(e,t){if(e==="change")return t}var If=!1;if(Yt){var Ao;if(Yt){var Lo="oninput"in document;if(!Lo){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),Lo=typeof Jc.oninput=="function"}Ao=Lo}else Ao=!1;If=Ao&&(!document.documentMode||9<document.documentMode)}function Qc(){Ds&&(Ds.detachEvent("onpropertychange",Df),Ys=Ds=null)}function Df(e){if(e.propertyName==="value"&&Xa(Ys)){var t=[];Lf(t,Ys,e,ku(e)),mf(Pv,t)}}function Ov(e,t,r){e==="focusin"?(Qc(),Ds=t,Ys=r,Ds.attachEvent("onpropertychange",Df)):e==="focusout"&&Qc()}function Av(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xa(Ys)}function Lv(e,t){if(e==="click")return Xa(t)}function Iv(e,t){if(e==="input"||e==="change")return Xa(t)}function Dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Dv;function Xs(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!al.call(t,s)||!Lt(e[s],t[s]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xc(e,t){var r=Yc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yc(r)}}function Uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $f(){for(var e=window,t=ya();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ya(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uv(e){var t=$f(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uf(r.ownerDocument.documentElement,r)){if(n!==null&&Nu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Xc(r,i);var a=Xc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $v=Yt&&"documentMode"in document&&11>=document.documentMode,Nn=null,xl=null,Us=null,Cl=!1;function Zc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cl||Nn==null||Nn!==ya(n)||(n=Nn,"selectionStart"in n&&Nu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Us&&Xs(Us,n)||(Us=n,n=xa(xl,"onSelect"),0<n.length&&(t=new ju("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nn)))}function zi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var On={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionend:zi("Transition","TransitionEnd")},Io={},Mf={};Yt&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Za(e){if(Io[e])return Io[e];if(!On[e])return e;var t=On[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Mf)return Io[e]=t[r];return e}var Ff=Za("animationend"),zf=Za("animationiteration"),Bf=Za("animationstart"),Wf=Za("transitionend"),Vf=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Vf.set(e,t),un(t,[e])}for(var Do=0;Do<ed.length;Do++){var Uo=ed[Do],Mv=Uo.toLowerCase(),Fv=Uo[0].toUpperCase()+Uo.slice(1);Or(Mv,"on"+Fv)}Or(Ff,"onAnimationEnd");Or(zf,"onAnimationIteration");Or(Bf,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(Wf,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function td(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Mg(n,t,void 0,e),e.currentTarget=null}function Hf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;td(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;td(s,o,u),i=l}}}if(_a)throw e=Sl,_a=!1,Sl=null,e}function he(e,t){var r=t[Nl];r===void 0&&(r=t[Nl]=new Set);var n=e+"__bubble";r.has(n)||(qf(t,e,2,!1),r.add(n))}function $o(e,t,r){var n=0;t&&(n|=4),qf(r,e,n,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Zs(e){if(!e[Bi]){e[Bi]=!0,Xh.forEach(function(r){r!=="selectionchange"&&(zv.has(r)||$o(r,!1,e),$o(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bi]||(t[Bi]=!0,$o("selectionchange",!1,t))}}function qf(e,t,r,n){switch(Rf(t)){case 1:var s=tv;break;case 4:s=rv;break;default:s=Cu}r=s.bind(null,t,r,e),s=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Mo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Gr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}mf(function(){var u=i,c=ku(r),d=[];e:{var h=Vf.get(e);if(h!==void 0){var g=ju,y=e;switch(e){case"keypress":if(ua(r)===0)break e;case"keydown":case"keyup":g=vv;break;case"focusin":y="focus",g=Oo;break;case"focusout":y="blur",g=Oo;break;case"beforeblur":case"afterblur":g=Oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_v;break;case Ff:case zf:case Bf:g=lv;break;case Wf:g=kv;break;case"scroll":g=nv;break;case"wheel":g=bv;break;case"copy":case"cut":case"paste":g=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Hc}var w=(t&4)!==0,k=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var f=u,v;f!==null;){v=f;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,p!==null&&(E=Ks(f,p),E!=null&&w.push(ei(f,E,v)))),k)break;f=f.return}0<w.length&&(h=new g(h,y,null,r,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==yl&&(y=r.relatedTarget||r.fromElement)&&(Gr(y)||y[Xt]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?Gr(y):null,y!==null&&(k=cn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=Wc,E="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Hc,E="onPointerLeave",p="onPointerEnter",f="pointer"),k=g==null?h:An(g),v=y==null?h:An(y),h=new w(E,f+"leave",g,r,c),h.target=k,h.relatedTarget=v,E=null,Gr(c)===u&&(w=new w(p,f+"enter",y,r,c),w.target=v,w.relatedTarget=k,E=w),k=E,g&&y)t:{for(w=g,p=y,f=0,v=w;v;v=vn(v))f++;for(v=0,E=p;E;E=vn(E))v++;for(;0<f-v;)w=vn(w),f--;for(;0<v-f;)p=vn(p),v--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=vn(w),p=vn(p)}w=null}else w=null;g!==null&&rd(d,h,g,w,!1),y!==null&&k!==null&&rd(d,k,y,w,!0)}}e:{if(h=u?An(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=Nv;else if(Gc(h))if(If)T=Iv;else{T=Av;var R=Ov}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Lv);if(T&&(T=T(e,u))){Lf(d,T,r,c);break e}R&&R(e,h,u),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&fl(h,"number",h.value)}switch(R=u?An(u):window,e){case"focusin":(Gc(R)||R.contentEditable==="true")&&(Nn=R,xl=u,Us=null);break;case"focusout":Us=xl=Nn=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,Zc(d,r,c);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Zc(d,r,c)}var S;if(Pu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Pn?Of(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Nf&&r.locale!=="ko"&&(Pn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Pn&&(S=Pf()):(yr=c,Tu="value"in yr?yr.value:yr.textContent,Pn=!0)),R=xa(u,j),0<R.length&&(j=new Vc(j,e,null,r,c),d.push({event:j,listeners:R}),S?j.data=S:(S=Af(r),S!==null&&(j.data=S)))),(S=Cv?Tv(e,r):jv(e,r))&&(u=xa(u,"onBeforeInput"),0<u.length&&(c=new Vc("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=S))}Hf(d,t)})}function ei(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ks(e,r),i!=null&&n.unshift(ei(e,i,s)),i=Ks(e,t),i!=null&&n.push(ei(e,i,s))),e=e.return}return n}function vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rd(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=Ks(r,i),l!=null&&a.unshift(ei(r,l,o))):s||(l=Ks(r,i),l!=null&&a.push(ei(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Bv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function nd(e){return(typeof e=="string"?e:""+e).replace(Bv,`
`).replace(Wv,"")}function Wi(e,t,r){if(t=nd(t),nd(e)!==t&&r)throw Error(N(425))}function Ca(){}var Tl=null,jl=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Vv=typeof clearTimeout=="function"?clearTimeout:void 0,sd=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof sd<"u"?function(e){return sd.resolve(null).then(e).catch(qv)}:Pl;function qv(e){setTimeout(function(){throw e})}function Fo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qs(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var is=Math.random().toString(36).slice(2),Mt="__reactFiber$"+is,ti="__reactProps$"+is,Xt="__reactContainer$"+is,Nl="__reactEvents$"+is,Kv="__reactListeners$"+is,Gv="__reactHandles$"+is;function Gr(e){var t=e[Mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xt]||r[Mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=id(e);e!==null;){if(r=e[Mt])return r;e=id(e)}return t}e=r,r=e.parentNode}return null}function _i(e){return e=e[Mt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function eo(e){return e[ti]||null}var Ol=[],Ln=-1;function Ar(e){return{current:e}}function fe(e){0>Ln||(e.current=Ol[Ln],Ol[Ln]=null,Ln--)}function de(e,t){Ln++,Ol[Ln]=e.current,e.current=t}var Nr={},Ve=Ar(Nr),tt=Ar(!1),tn=Nr;function Jn(e,t){var r=e.type.contextTypes;if(!r)return Nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rt(e){return e=e.childContextTypes,e!=null}function Ta(){fe(tt),fe(Ve)}function ad(e,t,r){if(Ve.current!==Nr)throw Error(N(168));de(Ve,t),de(tt,r)}function Kf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,Og(e)||"Unknown",s));return we({},r,n)}function ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,tn=Ve.current,de(Ve,e),de(tt,tt.current),!0}function od(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Kf(e,t,tn),n.__reactInternalMemoizedMergedChildContext=e,fe(tt),fe(Ve),de(Ve,e)):fe(tt),de(tt,r)}var qt=null,to=!1,zo=!1;function Gf(e){qt===null?qt=[e]:qt.push(e)}function Jv(e){to=!0,Gf(e)}function Lr(){if(!zo&&qt!==null){zo=!0;var e=0,t=ie;try{var r=qt;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qt=null,to=!1}catch(s){throw qt!==null&&(qt=qt.slice(e+1)),wf(Eu,Lr),s}finally{ie=t,zo=!1}}return null}var In=[],Dn=0,Ra=null,Pa=0,gt=[],vt=0,rn=null,Kt=1,Gt="";function zr(e,t){In[Dn++]=Pa,In[Dn++]=Ra,Ra=e,Pa=t}function Jf(e,t,r){gt[vt++]=Kt,gt[vt++]=Gt,gt[vt++]=rn,rn=e;var n=Kt;e=Gt;var s=32-Ot(n)-1;n&=~(1<<s),r+=1;var i=32-Ot(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Kt=1<<32-Ot(t)+s|r<<s|n,Gt=i+e}else Kt=1<<i|r<<s|n,Gt=e}function Ou(e){e.return!==null&&(zr(e,1),Jf(e,1,0))}function Au(e){for(;e===Ra;)Ra=In[--Dn],In[Dn]=null,Pa=In[--Dn],In[Dn]=null;for(;e===rn;)rn=gt[--vt],gt[vt]=null,Gt=gt[--vt],gt[vt]=null,Kt=gt[--vt],gt[vt]=null}var dt=null,ct=null,me=!1,Nt=null;function Qf(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ld(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rn!==null?{id:Kt,overflow:Gt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dt=e,ct=null,!0):!1;default:return!1}}function Al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(me){var t=ct;if(t){var r=t;if(!ld(e,t)){if(Al(e))throw Error(N(418));t=br(r.nextSibling);var n=dt;t&&ld(e,t)?Qf(n,r):(e.flags=e.flags&-4097|2,me=!1,dt=e)}}else{if(Al(e))throw Error(N(418));e.flags=e.flags&-4097|2,me=!1,dt=e}}}function ud(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function Vi(e){if(e!==dt)return!1;if(!me)return ud(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=ct)){if(Al(e))throw Yf(),Error(N(418));for(;t;)Qf(e,t),t=br(t.nextSibling)}if(ud(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ct=br(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?br(e.stateNode.nextSibling):null;return!0}function Yf(){for(var e=ct;e;)e=br(e.nextSibling)}function Qn(){ct=dt=null,me=!1}function Lu(e){Nt===null?Nt=[e]:Nt.push(e)}var Qv=rr.ReactCurrentBatchConfig;function ys(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cd(e){var t=e._init;return t(e._payload)}function Xf(e){function t(p,f){if(e){var v=p.deletions;v===null?(p.deletions=[f],p.flags|=16):v.push(f)}}function r(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=jr(p,f),p.index=0,p.sibling=null,p}function i(p,f,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<f?(p.flags|=2,f):v):(p.flags|=2,f)):(p.flags|=1048576,f)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,f,v,E){return f===null||f.tag!==6?(f=Go(v,p.mode,E),f.return=p,f):(f=s(f,v),f.return=p,f)}function l(p,f,v,E){var T=v.type;return T===Rn?c(p,f,v.props.children,E,v.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hr&&cd(T)===f.type)?(E=s(f,v.props),E.ref=ys(p,f,v),E.return=p,E):(E=ga(v.type,v.key,v.props,null,p.mode,E),E.ref=ys(p,f,v),E.return=p,E)}function u(p,f,v,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Jo(v,p.mode,E),f.return=p,f):(f=s(f,v.children||[]),f.return=p,f)}function c(p,f,v,E,T){return f===null||f.tag!==7?(f=en(v,p.mode,E,T),f.return=p,f):(f=s(f,v),f.return=p,f)}function d(p,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Go(""+f,p.mode,v),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Li:return v=ga(f.type,f.key,f.props,null,p.mode,v),v.ref=ys(p,null,f),v.return=p,v;case jn:return f=Jo(f,p.mode,v),f.return=p,f;case hr:var E=f._init;return d(p,E(f._payload),v)}if(Ts(f)||fs(f))return f=en(f,p.mode,v,null),f.return=p,f;Hi(p,f)}return null}function h(p,f,v,E){var T=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:o(p,f,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Li:return v.key===T?l(p,f,v,E):null;case jn:return v.key===T?u(p,f,v,E):null;case hr:return T=v._init,h(p,f,T(v._payload),E)}if(Ts(v)||fs(v))return T!==null?null:c(p,f,v,E,null);Hi(p,v)}return null}function g(p,f,v,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(v)||null,o(f,p,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Li:return p=p.get(E.key===null?v:E.key)||null,l(f,p,E,T);case jn:return p=p.get(E.key===null?v:E.key)||null,u(f,p,E,T);case hr:var R=E._init;return g(p,f,v,R(E._payload),T)}if(Ts(E)||fs(E))return p=p.get(v)||null,c(f,p,E,T,null);Hi(f,E)}return null}function y(p,f,v,E){for(var T=null,R=null,S=f,j=f=0,M=null;S!==null&&j<v.length;j++){S.index>j?(M=S,S=null):M=S.sibling;var A=h(p,S,v[j],E);if(A===null){S===null&&(S=M);break}e&&S&&A.alternate===null&&t(p,S),f=i(A,f,j),R===null?T=A:R.sibling=A,R=A,S=M}if(j===v.length)return r(p,S),me&&zr(p,j),T;if(S===null){for(;j<v.length;j++)S=d(p,v[j],E),S!==null&&(f=i(S,f,j),R===null?T=S:R.sibling=S,R=S);return me&&zr(p,j),T}for(S=n(p,S);j<v.length;j++)M=g(S,p,j,v[j],E),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?j:M.key),f=i(M,f,j),R===null?T=M:R.sibling=M,R=M);return e&&S.forEach(function(I){return t(p,I)}),me&&zr(p,j),T}function w(p,f,v,E){var T=fs(v);if(typeof T!="function")throw Error(N(150));if(v=T.call(v),v==null)throw Error(N(151));for(var R=T=null,S=f,j=f=0,M=null,A=v.next();S!==null&&!A.done;j++,A=v.next()){S.index>j?(M=S,S=null):M=S.sibling;var I=h(p,S,A.value,E);if(I===null){S===null&&(S=M);break}e&&S&&I.alternate===null&&t(p,S),f=i(I,f,j),R===null?T=I:R.sibling=I,R=I,S=M}if(A.done)return r(p,S),me&&zr(p,j),T;if(S===null){for(;!A.done;j++,A=v.next())A=d(p,A.value,E),A!==null&&(f=i(A,f,j),R===null?T=A:R.sibling=A,R=A);return me&&zr(p,j),T}for(S=n(p,S);!A.done;j++,A=v.next())A=g(S,p,j,A.value,E),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?j:A.key),f=i(A,f,j),R===null?T=A:R.sibling=A,R=A);return e&&S.forEach(function(G){return t(p,G)}),me&&zr(p,j),T}function k(p,f,v,E){if(typeof v=="object"&&v!==null&&v.type===Rn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Li:e:{for(var T=v.key,R=f;R!==null;){if(R.key===T){if(T=v.type,T===Rn){if(R.tag===7){r(p,R.sibling),f=s(R,v.props.children),f.return=p,p=f;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hr&&cd(T)===R.type){r(p,R.sibling),f=s(R,v.props),f.ref=ys(p,R,v),f.return=p,p=f;break e}r(p,R);break}else t(p,R);R=R.sibling}v.type===Rn?(f=en(v.props.children,p.mode,E,v.key),f.return=p,p=f):(E=ga(v.type,v.key,v.props,null,p.mode,E),E.ref=ys(p,f,v),E.return=p,p=E)}return a(p);case jn:e:{for(R=v.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(p,f.sibling),f=s(f,v.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else t(p,f);f=f.sibling}f=Jo(v,p.mode,E),f.return=p,p=f}return a(p);case hr:return R=v._init,k(p,f,R(v._payload),E)}if(Ts(v))return y(p,f,v,E);if(fs(v))return w(p,f,v,E);Hi(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(p,f.sibling),f=s(f,v),f.return=p,p=f):(r(p,f),f=Go(v,p.mode,E),f.return=p,p=f),a(p)):r(p,f)}return k}var Yn=Xf(!0),Zf=Xf(!1),Na=Ar(null),Oa=null,Un=null,Iu=null;function Du(){Iu=Un=Oa=null}function Uu(e){var t=Na.current;fe(Na),e._currentValue=t}function Il(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hn(e,t){Oa=e,Iu=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(Iu!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if(Oa===null)throw Error(N(308));Un=e,Oa.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var Jr=null;function $u(e){Jr===null?Jr=[e]:Jr.push(e)}function ep(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$u(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zt(e,n)}function Zt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fr=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Zt(e,r)}return s=n.interleaved,s===null?(t.next=t,$u(n)):(t.next=s.next,s.next=t),n.interleaved=t,Zt(e,r)}function ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bu(e,r)}}function dd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Aa(e,t,r,n){var s=e.updateQueue;fr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,g=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(h=t,g=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(g,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(g,d,h):y,h==null)break e;d=we({},d,h);break e;case 2:fr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else g={eventTime:g,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sn|=a,e.lanes=a,e.memoizedState=d}}function hd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Si={},zt=Ar(Si),ri=Ar(Si),ni=Ar(Si);function Qr(e){if(e===Si)throw Error(N(174));return e}function Fu(e,t){switch(de(ni,t),de(ri,e),de(zt,Si),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ml(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ml(t,e)}fe(zt),de(zt,t)}function Xn(){fe(zt),fe(ri),fe(ni)}function rp(e){Qr(ni.current);var t=Qr(zt.current),r=ml(t,e.type);t!==r&&(de(ri,e),de(zt,r))}function zu(e){ri.current===e&&(fe(zt),fe(ri))}var ge=Ar(0);function La(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=[];function Bu(){for(var e=0;e<Bo.length;e++)Bo[e]._workInProgressVersionPrimary=null;Bo.length=0}var da=rr.ReactCurrentDispatcher,Wo=rr.ReactCurrentBatchConfig,nn=0,ye=null,Ne=null,Ae=null,Ia=!1,$s=!1,si=0,Yv=0;function ze(){throw Error(N(321))}function Wu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lt(e[r],t[r]))return!1;return!0}function Vu(e,t,r,n,s,i){if(nn=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?ty:ry,e=r(n,s),$s){i=0;do{if($s=!1,si=0,25<=i)throw Error(N(301));i+=1,Ae=Ne=null,t.updateQueue=null,da.current=ny,e=r(n,s)}while($s)}if(da.current=Da,t=Ne!==null&&Ne.next!==null,nn=0,Ae=Ne=ye=null,Ia=!1,t)throw Error(N(300));return e}function Hu(){var e=si!==0;return si=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ye.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function St(){if(Ne===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ae===null?ye.memoizedState:Ae.next;if(t!==null)Ae=t,Ne=e;else{if(e===null)throw Error(N(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ae===null?ye.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ii(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=St(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=Ne,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((nn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,ye.lanes|=c,sn|=c}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,Lt(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ye.lanes|=i,sn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ho(e){var t=St(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Lt(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function np(){}function sp(e,t){var r=ye,n=St(),s=t(),i=!Lt(n.memoizedState,s);if(i&&(n.memoizedState=s,et=!0),n=n.queue,qu(op.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(r.flags|=2048,ai(9,ap.bind(null,r,n,s,t),void 0,null),Le===null)throw Error(N(349));nn&30||ip(r,t,s)}return s}function ip(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ap(e,t,r,n){t.value=r,t.getSnapshot=n,lp(t)&&up(e)}function op(e,t,r){return r(function(){lp(t)&&up(e)})}function lp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lt(e,r)}catch{return!0}}function up(e){var t=Zt(e,1);t!==null&&At(t,e,1,-1)}function fd(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},t.queue=e,e=e.dispatch=ey.bind(null,ye,e),[t.memoizedState,e]}function ai(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cp(){return St().memoizedState}function ha(e,t,r,n){var s=$t();ye.flags|=e,s.memoizedState=ai(1|t,r,void 0,n===void 0?null:n)}function ro(e,t,r,n){var s=St();n=n===void 0?null:n;var i=void 0;if(Ne!==null){var a=Ne.memoizedState;if(i=a.destroy,n!==null&&Wu(n,a.deps)){s.memoizedState=ai(t,r,i,n);return}}ye.flags|=e,s.memoizedState=ai(1|t,r,i,n)}function pd(e,t){return ha(8390656,8,e,t)}function qu(e,t){return ro(2048,8,e,t)}function dp(e,t){return ro(4,2,e,t)}function hp(e,t){return ro(4,4,e,t)}function fp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pp(e,t,r){return r=r!=null?r.concat([e]):null,ro(4,4,fp.bind(null,t,e),r)}function Ku(){}function mp(e,t){var r=St();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gp(e,t){var r=St();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vp(e,t,r){return nn&21?(Lt(r,t)||(r=kf(),ye.lanes|=r,sn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=r)}function Xv(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=Wo.transition;Wo.transition={};try{e(!1),t()}finally{ie=r,Wo.transition=n}}function yp(){return St().memoizedState}function Zv(e,t,r){var n=Tr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wp(e))_p(t,r);else if(r=ep(e,t,r,n),r!==null){var s=Je();At(r,e,n,s),Sp(r,t,n)}}function ey(e,t,r){var n=Tr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wp(e))_p(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Lt(o,a)){var l=t.interleaved;l===null?(s.next=s,$u(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=ep(e,t,s,n),r!==null&&(s=Je(),At(r,e,n,s),Sp(r,t,n))}}function wp(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function _p(e,t){$s=Ia=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Sp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bu(e,r)}}var Da={readContext:_t,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},ty={readContext:_t,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:pd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ha(4194308,4,fp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Zv.bind(null,ye,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:fd,useDebugValue:Ku,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=fd(!1),t=e[0];return e=Xv.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ye,s=$t();if(me){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),Le===null)throw Error(N(349));nn&30||ip(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,pd(op.bind(null,n,i,e),[e]),n.flags|=2048,ai(9,ap.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$t(),t=Le.identifierPrefix;if(me){var r=Gt,n=Kt;r=(n&~(1<<32-Ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=si++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Yv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ry={readContext:_t,useCallback:mp,useContext:_t,useEffect:qu,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:hp,useMemo:gp,useReducer:Vo,useRef:cp,useState:function(){return Vo(ii)},useDebugValue:Ku,useDeferredValue:function(e){var t=St();return vp(t,Ne.memoizedState,e)},useTransition:function(){var e=Vo(ii)[0],t=St().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:sp,useId:yp,unstable_isNewReconciler:!1},ny={readContext:_t,useCallback:mp,useContext:_t,useEffect:qu,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:hp,useMemo:gp,useReducer:Ho,useRef:cp,useState:function(){return Ho(ii)},useDebugValue:Ku,useDeferredValue:function(e){var t=St();return Ne===null?t.memoizedState=e:vp(t,Ne.memoizedState,e)},useTransition:function(){var e=Ho(ii)[0],t=St().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:sp,useId:yp,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Je(),s=Tr(e),i=Jt(n,s);i.payload=t,r!=null&&(i.callback=r),t=xr(e,i,s),t!==null&&(At(t,e,s,n),ca(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Je(),s=Tr(e),i=Jt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xr(e,i,s),t!==null&&(At(t,e,s,n),ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Je(),n=Tr(e),s=Jt(r,n);s.tag=2,t!=null&&(s.callback=t),t=xr(e,s,n),t!==null&&(At(t,e,n,r),ca(t,e,n))}};function md(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Xs(r,n)||!Xs(s,i):!0}function kp(e,t,r){var n=!1,s=Nr,i=t.contextType;return typeof i=="object"&&i!==null?i=_t(i):(s=rt(t)?tn:Ve.current,n=t.contextTypes,i=(n=n!=null)?Jn(e,s):Nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function gd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function Ul(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Mu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=_t(i):(i=rt(t)?tn:Ve.current,s.context=Jn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&no.enqueueReplaceState(s,s.state,null),Aa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var r="",n=t;do r+=Ng(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $l(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sy=typeof WeakMap=="function"?WeakMap:Map;function Ep(e,t,r){r=Jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$a||($a=!0,Gl=n),$l(e,t)},r}function bp(e,t,r){r=Jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){$l(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$l(e,t),typeof n!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function vd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sy;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=yy.bind(null,e,t,r),t.then(e,e))}function yd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jt(-1,1),t.tag=2,xr(r,t,1))),r.lanes|=1),e)}var iy=rr.ReactCurrentOwner,et=!1;function Ge(e,t,r,n){t.child=e===null?Zf(t,null,r,n):Yn(t,e.child,r,n)}function _d(e,t,r,n,s){r=r.render;var i=t.ref;return Hn(t,s),n=Vu(e,t,r,n,i,s),r=Hu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(me&&r&&Ou(t),t.flags|=1,Ge(e,t,n,s),t.child)}function Sd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xp(e,t,i,n,s)):(e=ga(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xs,r(a,n)&&e.ref===t.ref)return er(e,t,s)}return t.flags|=1,e=jr(i,n),e.ref=t.ref,e.return=t,t.child=e}function xp(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xs(i,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,er(e,t,s)}return Ml(e,t,r,n,s)}function Cp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Mn,at),at|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Mn,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,de(Mn,at),at|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,de(Mn,at),at|=n;return Ge(e,t,s,r),t.child}function Tp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ml(e,t,r,n,s){var i=rt(r)?tn:Ve.current;return i=Jn(t,i),Hn(t,s),r=Vu(e,t,r,n,i,s),n=Hu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(me&&n&&Ou(t),t.flags|=1,Ge(e,t,r,s),t.child)}function kd(e,t,r,n,s){if(rt(r)){var i=!0;ja(t)}else i=!1;if(Hn(t,s),t.stateNode===null)fa(e,t),kp(t,r,n),Ul(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=rt(r)?tn:Ve.current,u=Jn(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&gd(t,a,n,u),fr=!1;var h=t.memoizedState;a.state=h,Aa(t,n,a,s),l=t.memoizedState,o!==n||h!==l||tt.current||fr?(typeof c=="function"&&(Dl(t,r,c,n),l=t.memoizedState),(o=fr||md(t,r,o,n,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,tp(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ct(t.type,o),a.props=u,d=t.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=_t(l):(l=rt(r)?tn:Ve.current,l=Jn(t,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&gd(t,a,n,l),fr=!1,h=t.memoizedState,a.state=h,Aa(t,n,a,s);var y=t.memoizedState;o!==d||h!==y||tt.current||fr?(typeof g=="function"&&(Dl(t,r,g,n),y=t.memoizedState),(u=fr||md(t,r,u,n,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fl(e,t,r,n,i,s)}function Fl(e,t,r,n,s,i){Tp(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&od(t,r,!1),er(e,t,i);n=t.stateNode,iy.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Yn(t,e.child,null,i),t.child=Yn(t,null,o,i)):Ge(e,t,o,i),t.memoizedState=n.state,s&&od(t,r,!0),t.child}function jp(e){var t=e.stateNode;t.pendingContext?ad(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ad(e,t.context,!1),Fu(e,t.containerInfo)}function Ed(e,t,r,n,s){return Qn(),Lu(s),t.flags|=256,Ge(e,t,r,n),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rp(e,t,r){var n=t.pendingProps,s=ge.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(ge,s&1),e===null)return Ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ao(a,n,0,null),e=en(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bl(r),t.memoizedState=zl,e):Gu(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ay(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=jr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=jr(o,i):(i=en(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Bl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=zl,n}return i=e.child,e=i.sibling,n=jr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gu(e,t){return t=ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,r,n){return n!==null&&Lu(n),Yn(t,e.child,null,r),e=Gu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ay(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=qo(Error(N(422))),qi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ao({mode:"visible",children:n.children},s,0,null),i=en(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Yn(t,e.child,null,a),t.child.memoizedState=Bl(a),t.memoizedState=zl,i);if(!(t.mode&1))return qi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(N(419)),n=qo(i,n,void 0),qi(e,t,a,n)}if(o=(a&e.childLanes)!==0,et||o){if(n=Le,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zt(e,s),At(n,e,s,-1))}return ec(),n=qo(Error(N(421))),qi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ct=br(s.nextSibling),dt=t,me=!0,Nt=null,e!==null&&(gt[vt++]=Kt,gt[vt++]=Gt,gt[vt++]=rn,Kt=e.id,Gt=e.overflow,rn=t),t=Gu(t,n.children),t.flags|=4096,t)}function bd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Il(e.return,t,r)}function Ko(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Pp(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ge(e,t,n.children,r),n=ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bd(e,r,t);else if(e.tag===19)bd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(de(ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&La(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ko(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&La(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ko(t,!0,r,null,i);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oy(e,t,r){switch(t.tag){case 3:jp(t),Qn();break;case 5:rp(t);break;case 1:rt(t.type)&&ja(t);break;case 4:Fu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;de(Na,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(de(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?Rp(e,t,r):(de(ge,ge.current&1),e=er(e,t,r),e!==null?e.sibling:null);de(ge,ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Pp(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ge,ge.current),n)break;return null;case 22:case 23:return t.lanes=0,Cp(e,t,r)}return er(e,t,r)}var Np,Wl,Op,Ap;Np=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wl=function(){};Op=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qr(zt.current);var i=null;switch(r){case"input":s=dl(e,s),n=dl(e,n),i=[];break;case"select":s=we({},s,{value:void 0}),n=we({},n,{value:void 0}),i=[];break;case"textarea":s=pl(e,s),n=pl(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ca)}gl(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ap=function(e,t,r,n){r!==n&&(t.flags|=4)};function ws(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ly(e,t,r){var n=t.pendingProps;switch(Au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return rt(t.type)&&Ta(),Be(t),null;case 3:return n=t.stateNode,Xn(),fe(tt),fe(Ve),Bu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Yl(Nt),Nt=null))),Wl(e,t),Be(t),null;case 5:zu(t);var s=Qr(ni.current);if(r=t.type,e!==null&&t.stateNode!=null)Op(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return Be(t),null}if(e=Qr(zt.current),Vi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Mt]=t,n[ti]=i,e=(t.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<Rs.length;s++)he(Rs[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":Ac(n,i),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},he("invalid",n);break;case"textarea":Ic(n,i),he("invalid",n)}gl(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,o,e),s=["children",""+o]):Hs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&he("scroll",n)}switch(r){case"input":Ii(n),Lc(n,i,!0);break;case"textarea":Ii(n),Dc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ca)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=of(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Mt]=t,e[ti]=n,Np(e,t,!1,!1),t.stateNode=e;e:{switch(a=vl(r,n),r){case"dialog":he("cancel",e),he("close",e),s=n;break;case"iframe":case"object":case"embed":he("load",e),s=n;break;case"video":case"audio":for(s=0;s<Rs.length;s++)he(Rs[s],e);s=n;break;case"source":he("error",e),s=n;break;case"img":case"image":case"link":he("error",e),he("load",e),s=n;break;case"details":he("toggle",e),s=n;break;case"input":Ac(e,n),s=dl(e,n),he("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=we({},n,{value:void 0}),he("invalid",e);break;case"textarea":Ic(e,n),s=pl(e,n),he("invalid",e);break;default:s=n}gl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?cf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lf(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qs(e,l):typeof l=="number"&&qs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&he("scroll",e):l!=null&&yu(e,i,l,a))}switch(r){case"input":Ii(e),Lc(e,n,!1);break;case"textarea":Ii(e),Dc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?zn(e,!!n.multiple,i,!1):n.defaultValue!=null&&zn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ca)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)Ap(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=Qr(ni.current),Qr(zt.current),Vi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mt]=t,(i=n.nodeValue!==r)&&(e=dt,e!==null))switch(e.tag){case 3:Wi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mt]=t,t.stateNode=n}return Be(t),null;case 13:if(fe(ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ct!==null&&t.mode&1&&!(t.flags&128))Yf(),Qn(),t.flags|=98560,i=!1;else if(i=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Mt]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),i=!1}else Nt!==null&&(Yl(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Oe===0&&(Oe=3):ec())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Xn(),Wl(e,t),e===null&&Zs(t.stateNode.containerInfo),Be(t),null;case 10:return Uu(t.type._context),Be(t),null;case 17:return rt(t.type)&&Ta(),Be(t),null;case 19:if(fe(ge),i=t.memoizedState,i===null)return Be(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ws(i,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=La(e),a!==null){for(t.flags|=128,ws(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return de(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&be()>es&&(t.flags|=128,n=!0,ws(i,!1),t.lanes=4194304)}else{if(!n)if(e=La(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ws(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!me)return Be(t),null}else 2*be()-i.renderingStartTime>es&&r!==1073741824&&(t.flags|=128,n=!0,ws(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,r=ge.current,de(ge,n?r&1|2:r&1),t):(Be(t),null);case 22:case 23:return Zu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function uy(e,t){switch(Au(t),t.tag){case 1:return rt(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),fe(tt),fe(Ve),Bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zu(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return Xn(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var Ki=!1,We=!1,cy=typeof WeakSet=="function"?WeakSet:Set,D=null;function $n(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function Vl(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var xd=!1;function dy(e,t){if(Tl=Ea,e=$f(),Nu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===r&&++u===s&&(o=a),h===i&&++c===n&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(jl={focusedElem:e,selectionRange:r},Ea=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,k=y.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ct(t.type,w),k);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){Ee(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return y=xd,xd=!1,y}function Ms(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vl(t,r,i)}s=s.next}while(s!==n)}}function so(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lp(e){var t=e.alternate;t!==null&&(e.alternate=null,Lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[ti],delete t[Nl],delete t[Kv],delete t[Gv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ip(e){return e.tag===5||e.tag===3||e.tag===4}function Cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ql(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ca));else if(n!==4&&(e=e.child,e!==null))for(ql(e,t,r),e=e.sibling;e!==null;)ql(e,t,r),e=e.sibling}function Kl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kl(e,t,r),e=e.sibling;e!==null;)Kl(e,t,r),e=e.sibling}var $e=null,jt=!1;function cr(e,t,r){for(r=r.child;r!==null;)Dp(e,t,r),r=r.sibling}function Dp(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Qa,r)}catch{}switch(r.tag){case 5:We||$n(r,t);case 6:var n=$e,s=jt;$e=null,cr(e,t,r),$e=n,jt=s,$e!==null&&(jt?(e=$e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$e.removeChild(r.stateNode));break;case 18:$e!==null&&(jt?(e=$e,r=r.stateNode,e.nodeType===8?Fo(e.parentNode,r):e.nodeType===1&&Fo(e,r),Qs(e)):Fo($e,r.stateNode));break;case 4:n=$e,s=jt,$e=r.stateNode.containerInfo,jt=!0,cr(e,t,r),$e=n,jt=s;break;case 0:case 11:case 14:case 15:if(!We&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Vl(r,t,a),s=s.next}while(s!==n)}cr(e,t,r);break;case 1:if(!We&&($n(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ee(r,t,o)}cr(e,t,r);break;case 21:cr(e,t,r);break;case 22:r.mode&1?(We=(n=We)||r.memoizedState!==null,cr(e,t,r),We=n):cr(e,t,r);break;default:cr(e,t,r)}}function Td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cy),t.forEach(function(n){var s=_y.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:$e=o.stateNode,jt=!1;break e;case 3:$e=o.stateNode.containerInfo,jt=!0;break e;case 4:$e=o.stateNode.containerInfo,jt=!0;break e}o=o.return}if($e===null)throw Error(N(160));Dp(i,a,s),$e=null,jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ee(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Ut(e),n&4){try{Ms(3,e,e.return),so(3,e)}catch(w){Ee(e,e.return,w)}try{Ms(5,e,e.return)}catch(w){Ee(e,e.return,w)}}break;case 1:bt(t,e),Ut(e),n&512&&r!==null&&$n(r,r.return);break;case 5:if(bt(t,e),Ut(e),n&512&&r!==null&&$n(r,r.return),e.flags&32){var s=e.stateNode;try{qs(s,"")}catch(w){Ee(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&sf(s,i),vl(o,a);var u=vl(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?cf(s,d):c==="dangerouslySetInnerHTML"?lf(s,d):c==="children"?qs(s,d):yu(s,c,d,u)}switch(o){case"input":hl(s,i);break;case"textarea":af(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?zn(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?zn(s,!!i.multiple,i.defaultValue,!0):zn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ti]=i}catch(w){Ee(e,e.return,w)}}break;case 6:if(bt(t,e),Ut(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Ee(e,e.return,w)}}break;case 3:if(bt(t,e),Ut(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qs(t.containerInfo)}catch(w){Ee(e,e.return,w)}break;case 4:bt(t,e),Ut(e);break;case 13:bt(t,e),Ut(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yu=be())),n&4&&Td(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(We=(u=We)||c,bt(t,e),We=u):bt(t,e),Ut(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(D=e,c=e.child;c!==null;){for(d=D=c;D!==null;){switch(h=D,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ms(4,h,h.return);break;case 1:$n(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Ee(n,r,w)}}break;case 5:$n(h,h.return);break;case 22:if(h.memoizedState!==null){Rd(d);continue}}g!==null?(g.return=h,D=g):Rd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=uf("display",a))}catch(w){Ee(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Ee(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bt(t,e),Ut(e),n&4&&Td(e);break;case 21:break;default:bt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ip(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qs(s,""),n.flags&=-33);var i=Cd(e);Kl(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Cd(e);ql(e,o,a);break;default:throw Error(N(161))}}catch(l){Ee(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hy(e,t,r){D=e,$p(e)}function $p(e,t,r){for(var n=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ki;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||We;o=Ki;var u=We;if(Ki=a,(We=l)&&!u)for(D=s;D!==null;)a=D,l=a.child,a.tag===22&&a.memoizedState!==null?Pd(s):l!==null?(l.return=a,D=l):Pd(s);for(;i!==null;)D=i,$p(i),i=i.sibling;D=s,Ki=o,We=u}jd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):jd(e)}}function jd(e){for(;D!==null;){var t=D;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||so(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!We)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ct(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&hd(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hd(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Qs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}We||t.flags&512&&Hl(t)}catch(h){Ee(t,t.return,h)}}if(t===e){D=null;break}if(r=t.sibling,r!==null){r.return=t.return,D=r;break}D=t.return}}function Rd(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var r=t.sibling;if(r!==null){r.return=t.return,D=r;break}D=t.return}}function Pd(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{so(4,t)}catch(l){Ee(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Ee(t,s,l)}}var i=t.return;try{Hl(t)}catch(l){Ee(t,i,l)}break;case 5:var a=t.return;try{Hl(t)}catch(l){Ee(t,a,l)}}}catch(l){Ee(t,t.return,l)}if(t===e){D=null;break}var o=t.sibling;if(o!==null){o.return=t.return,D=o;break}D=t.return}}var fy=Math.ceil,Ua=rr.ReactCurrentDispatcher,Ju=rr.ReactCurrentOwner,wt=rr.ReactCurrentBatchConfig,te=0,Le=null,je=null,Me=0,at=0,Mn=Ar(0),Oe=0,oi=null,sn=0,io=0,Qu=0,Fs=null,Ze=null,Yu=0,es=1/0,Vt=null,$a=!1,Gl=null,Cr=null,Gi=!1,wr=null,Ma=0,zs=0,Jl=null,pa=-1,ma=0;function Je(){return te&6?be():pa!==-1?pa:pa=be()}function Tr(e){return e.mode&1?te&2&&Me!==0?Me&-Me:Qv.transition!==null?(ma===0&&(ma=kf()),ma):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Rf(e.type)),e):1}function At(e,t,r,n){if(50<zs)throw zs=0,Jl=null,Error(N(185));yi(e,r,n),(!(te&2)||e!==Le)&&(e===Le&&(!(te&2)&&(io|=r),Oe===4&&gr(e,Me)),nt(e,n),r===1&&te===0&&!(t.mode&1)&&(es=be()+500,to&&Lr()))}function nt(e,t){var r=e.callbackNode;Qg(e,t);var n=ka(e,e===Le?Me:0);if(n===0)r!==null&&Mc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mc(r),t===1)e.tag===0?Jv(Nd.bind(null,e)):Gf(Nd.bind(null,e)),Hv(function(){!(te&6)&&Lr()}),r=null;else{switch(Ef(n)){case 1:r=Eu;break;case 4:r=_f;break;case 16:r=Sa;break;case 536870912:r=Sf;break;default:r=Sa}r=qp(r,Mp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mp(e,t){if(pa=-1,ma=0,te&6)throw Error(N(327));var r=e.callbackNode;if(qn()&&e.callbackNode!==r)return null;var n=ka(e,e===Le?Me:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fa(e,n);else{t=n;var s=te;te|=2;var i=zp();(Le!==e||Me!==t)&&(Vt=null,es=be()+500,Zr(e,t));do try{gy();break}catch(o){Fp(e,o)}while(!0);Du(),Ua.current=i,te=s,je!==null?t=0:(Le=null,Me=0,t=Oe)}if(t!==0){if(t===2&&(s=kl(e),s!==0&&(n=s,t=Ql(e,s))),t===1)throw r=oi,Zr(e,0),gr(e,n),nt(e,be()),r;if(t===6)gr(e,n);else{if(s=e.current.alternate,!(n&30)&&!py(s)&&(t=Fa(e,n),t===2&&(i=kl(e),i!==0&&(n=i,t=Ql(e,i))),t===1))throw r=oi,Zr(e,0),gr(e,n),nt(e,be()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:Br(e,Ze,Vt);break;case 3:if(gr(e,n),(n&130023424)===n&&(t=Yu+500-be(),10<t)){if(ka(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pl(Br.bind(null,e,Ze,Vt),t);break}Br(e,Ze,Vt);break;case 4:if(gr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ot(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fy(n/1960))-n,10<n){e.timeoutHandle=Pl(Br.bind(null,e,Ze,Vt),n);break}Br(e,Ze,Vt);break;case 5:Br(e,Ze,Vt);break;default:throw Error(N(329))}}}return nt(e,be()),e.callbackNode===r?Mp.bind(null,e):null}function Ql(e,t){var r=Fs;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=Fa(e,t),e!==2&&(t=Ze,Ze=r,t!==null&&Yl(t)),e}function Yl(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function py(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Lt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~Qu,t&=~io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ot(t),n=1<<r;e[r]=-1,t&=~n}}function Nd(e){if(te&6)throw Error(N(327));qn();var t=ka(e,0);if(!(t&1))return nt(e,be()),null;var r=Fa(e,t);if(e.tag!==0&&r===2){var n=kl(e);n!==0&&(t=n,r=Ql(e,n))}if(r===1)throw r=oi,Zr(e,0),gr(e,t),nt(e,be()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Br(e,Ze,Vt),nt(e,be()),null}function Xu(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(es=be()+500,to&&Lr())}}function an(e){wr!==null&&wr.tag===0&&!(te&6)&&qn();var t=te;te|=1;var r=wt.transition,n=ie;try{if(wt.transition=null,ie=1,e)return e()}finally{ie=n,wt.transition=r,te=t,!(te&6)&&Lr()}}function Zu(){at=Mn.current,fe(Mn)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Vv(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Au(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ta();break;case 3:Xn(),fe(tt),fe(Ve),Bu();break;case 5:zu(n);break;case 4:Xn();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:Uu(n.type._context);break;case 22:case 23:Zu()}r=r.return}if(Le=e,je=e=jr(e.current,null),Me=at=t,Oe=0,oi=null,Qu=io=sn=0,Ze=Fs=null,Jr!==null){for(t=0;t<Jr.length;t++)if(r=Jr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Jr=null}return e}function Fp(e,t){do{var r=je;try{if(Du(),da.current=Da,Ia){for(var n=ye.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ia=!1}if(nn=0,Ae=Ne=ye=null,$s=!1,si=0,Ju.current=null,r===null||r.return===null){Oe=1,oi=t,je=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=Me,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=yd(a);if(g!==null){g.flags&=-257,wd(g,a,o,i,t),g.mode&1&&vd(i,u,t),t=g,l=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(l),t.updateQueue=w}else y.add(l);break e}else{if(!(t&1)){vd(i,u,t),ec();break e}l=Error(N(426))}}else if(me&&o.mode&1){var k=yd(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),wd(k,a,o,i,t),Lu(Zn(l,o));break e}}i=l=Zn(l,o),Oe!==4&&(Oe=2),Fs===null?Fs=[i]:Fs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ep(i,l,t);dd(i,p);break e;case 1:o=l;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Cr===null||!Cr.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=bp(i,o,t);dd(i,E);break e}}i=i.return}while(i!==null)}Wp(r)}catch(T){t=T,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function zp(){var e=Ua.current;return Ua.current=Da,e===null?Da:e}function ec(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Le===null||!(sn&268435455)&&!(io&268435455)||gr(Le,Me)}function Fa(e,t){var r=te;te|=2;var n=zp();(Le!==e||Me!==t)&&(Vt=null,Zr(e,t));do try{my();break}catch(s){Fp(e,s)}while(!0);if(Du(),te=r,Ua.current=n,je!==null)throw Error(N(261));return Le=null,Me=0,Oe}function my(){for(;je!==null;)Bp(je)}function gy(){for(;je!==null&&!zg();)Bp(je)}function Bp(e){var t=Hp(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?Wp(e):je=t,Ju.current=null}function Wp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uy(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,je=null;return}}else if(r=ly(r,t,at),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Oe===0&&(Oe=5)}function Br(e,t,r){var n=ie,s=wt.transition;try{wt.transition=null,ie=1,vy(e,t,r,n)}finally{wt.transition=s,ie=n}return null}function vy(e,t,r,n){do qn();while(wr!==null);if(te&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Yg(e,i),e===Le&&(je=Le=null,Me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gi||(Gi=!0,qp(Sa,function(){return qn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var a=ie;ie=1;var o=te;te|=4,Ju.current=null,dy(e,r),Up(r,e),Uv(jl),Ea=!!Tl,jl=Tl=null,e.current=r,hy(r),Bg(),te=o,ie=a,wt.transition=i}else e.current=r;if(Gi&&(Gi=!1,wr=e,Ma=s),i=e.pendingLanes,i===0&&(Cr=null),Hg(r.stateNode),nt(e,be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if($a)throw $a=!1,e=Gl,Gl=null,e;return Ma&1&&e.tag!==0&&qn(),i=e.pendingLanes,i&1?e===Jl?zs++:(zs=0,Jl=e):zs=0,Lr(),null}function qn(){if(wr!==null){var e=Ef(Ma),t=wt.transition,r=ie;try{if(wt.transition=null,ie=16>e?16:e,wr===null)var n=!1;else{if(e=wr,wr=null,Ma=0,te&6)throw Error(N(331));var s=te;for(te|=4,D=e.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Ms(8,c,i)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var h=c.sibling,g=c.return;if(Lp(c),c===u){D=null;break}if(h!==null){h.return=g,D=h;break}D=g}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ms(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,D=p;break e}D=i.return}}var f=e.current;for(D=f;D!==null;){a=D;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,D=v;else e:for(a=f;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(T){Ee(o,o.return,T)}if(o===a){D=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,D=E;break e}D=o.return}}if(te=s,Lr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Qa,e)}catch{}n=!0}return n}finally{ie=r,wt.transition=t}}return!1}function Od(e,t,r){t=Zn(r,t),t=Ep(e,t,1),e=xr(e,t,1),t=Je(),e!==null&&(yi(e,1,t),nt(e,t))}function Ee(e,t,r){if(e.tag===3)Od(e,e,r);else for(;t!==null;){if(t.tag===3){Od(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cr===null||!Cr.has(n))){e=Zn(r,e),e=bp(t,e,1),t=xr(t,e,1),e=Je(),t!==null&&(yi(t,1,e),nt(t,e));break}}t=t.return}}function yy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&r,Le===e&&(Me&r)===r&&(Oe===4||Oe===3&&(Me&130023424)===Me&&500>be()-Yu?Zr(e,0):Qu|=r),nt(e,t)}function Vp(e,t){t===0&&(e.mode&1?(t=$i,$i<<=1,!($i&130023424)&&($i=4194304)):t=1);var r=Je();e=Zt(e,t),e!==null&&(yi(e,t,r),nt(e,r))}function wy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vp(e,r)}function _y(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),Vp(e,r)}var Hp;Hp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return et=!1,oy(e,t,r);et=!!(e.flags&131072)}else et=!1,me&&t.flags&1048576&&Jf(t,Pa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fa(e,t),e=t.pendingProps;var s=Jn(t,Ve.current);Hn(t,r),s=Vu(null,t,n,e,s,r);var i=Hu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(n)?(i=!0,ja(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mu(t),s.updater=no,t.stateNode=s,s._reactInternals=t,Ul(t,n,e,r),t=Fl(null,t,n,!0,i,r)):(t.tag=0,me&&i&&Ou(t),Ge(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ky(n),e=Ct(n,e),s){case 0:t=Ml(null,t,n,e,r);break e;case 1:t=kd(null,t,n,e,r);break e;case 11:t=_d(null,t,n,e,r);break e;case 14:t=Sd(null,t,n,Ct(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),Ml(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),kd(e,t,n,s,r);case 3:e:{if(jp(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,tp(e,t),Aa(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zn(Error(N(423)),t),t=Ed(e,t,n,r,s);break e}else if(n!==s){s=Zn(Error(N(424)),t),t=Ed(e,t,n,r,s);break e}else for(ct=br(t.stateNode.containerInfo.firstChild),dt=t,me=!0,Nt=null,r=Zf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qn(),n===s){t=er(e,t,r);break e}Ge(e,t,n,r)}t=t.child}return t;case 5:return rp(t),e===null&&Ll(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Rl(n,s)?a=null:i!==null&&Rl(n,i)&&(t.flags|=32),Tp(e,t),Ge(e,t,a,r),t.child;case 6:return e===null&&Ll(t),null;case 13:return Rp(e,t,r);case 4:return Fu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yn(t,null,n,r):Ge(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),_d(e,t,n,s,r);case 7:return Ge(e,t,t.pendingProps,r),t.child;case 8:return Ge(e,t,t.pendingProps.children,r),t.child;case 12:return Ge(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,de(Na,n._currentValue),n._currentValue=a,i!==null)if(Lt(i.value,a)){if(i.children===s.children&&!tt.current){t=er(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Jt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Il(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Il(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ge(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Hn(t,r),s=_t(s),n=n(s),t.flags|=1,Ge(e,t,n,r),t.child;case 14:return n=t.type,s=Ct(n,t.pendingProps),s=Ct(n.type,s),Sd(e,t,n,s,r);case 15:return xp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),fa(e,t),t.tag=1,rt(n)?(e=!0,ja(t)):e=!1,Hn(t,r),kp(t,n,s),Ul(t,n,s,r),Fl(null,t,n,!0,e,r);case 19:return Pp(e,t,r);case 22:return Cp(e,t,r)}throw Error(N(156,t.tag))};function qp(e,t){return wf(e,t)}function Sy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,n){return new Sy(e,t,r,n)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ky(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_u)return 11;if(e===Su)return 14}return 2}function jr(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ga(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")tc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Rn:return en(r.children,s,i,t);case wu:a=8,s|=8;break;case ol:return e=yt(12,r,t,s|2),e.elementType=ol,e.lanes=i,e;case ll:return e=yt(13,r,t,s),e.elementType=ll,e.lanes=i,e;case ul:return e=yt(19,r,t,s),e.elementType=ul,e.lanes=i,e;case tf:return ao(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zh:a=10;break e;case ef:a=9;break e;case _u:a=11;break e;case Su:a=14;break e;case hr:a=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=yt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function en(e,t,r,n){return e=yt(7,e,n,t),e.lanes=r,e}function ao(e,t,r,n){return e=yt(22,e,n,t),e.elementType=tf,e.lanes=r,e.stateNode={isHidden:!1},e}function Go(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function Jo(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ey(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rc(e,t,r,n,s,i,a,o,l){return e=new Ey(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=yt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(i),e}function by(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kp(e){if(!e)return Nr;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(rt(r))return Kf(e,r,t)}return t}function Gp(e,t,r,n,s,i,a,o,l){return e=rc(r,n,!0,e,s,i,a,o,l),e.context=Kp(null),r=e.current,n=Je(),s=Tr(r),i=Jt(n,s),i.callback=t??null,xr(r,i,s),e.current.lanes=s,yi(e,s,n),nt(e,n),e}function oo(e,t,r,n){var s=t.current,i=Je(),a=Tr(s);return r=Kp(r),t.context===null?t.context=r:t.pendingContext=r,t=Jt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xr(s,t,a),e!==null&&(At(e,s,a,i),ca(e,s,a)),a}function za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nc(e,t){Ad(e,t),(e=e.alternate)&&Ad(e,t)}function xy(){return null}var Jp=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}lo.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));oo(e,t,null,null)};lo.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){oo(null,e,null,null)}),t[Xt]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<mr.length&&t!==0&&t<mr[r].priority;r++);mr.splice(r,0,e),r===0&&jf(e)}};function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ld(){}function Cy(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=za(a);i.call(u)}}var a=Gp(t,n,e,0,null,!1,!1,"",Ld);return e._reactRootContainer=a,e[Xt]=a.current,Zs(e.nodeType===8?e.parentNode:e),an(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=za(l);o.call(u)}}var l=rc(e,0,!1,null,null,!1,!1,"",Ld);return e._reactRootContainer=l,e[Xt]=l.current,Zs(e.nodeType===8?e.parentNode:e),an(function(){oo(t,l,r,n)}),l}function co(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=za(a);o.call(l)}}oo(t,a,e,s)}else a=Cy(r,t,e,s,n);return za(a)}bf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=js(t.pendingLanes);r!==0&&(bu(t,r|1),nt(t,be()),!(te&6)&&(es=be()+500,Lr()))}break;case 13:an(function(){var n=Zt(e,1);if(n!==null){var s=Je();At(n,e,1,s)}}),nc(e,1)}};xu=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var r=Je();At(t,e,134217728,r)}nc(e,134217728)}};xf=function(e){if(e.tag===13){var t=Tr(e),r=Zt(e,t);if(r!==null){var n=Je();At(r,e,t,n)}nc(e,t)}};Cf=function(){return ie};Tf=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};wl=function(e,t,r){switch(t){case"input":if(hl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=eo(n);if(!s)throw Error(N(90));nf(n),hl(n,s)}}}break;case"textarea":af(e,r);break;case"select":t=r.value,t!=null&&zn(e,!!r.multiple,t,!1)}};ff=Xu;pf=an;var Ty={usingClientEntryPoint:!1,Events:[_i,An,eo,df,hf,Xu]},_s={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jy={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vf(e),e===null?null:e.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||xy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{Qa=Ji.inject(jy),Ft=Ji}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty;ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(t))throw Error(N(200));return by(e,t,null,r)};ft.createRoot=function(e,t){if(!ic(e))throw Error(N(299));var r=!1,n="",s=Jp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rc(e,1,!1,null,null,r,!1,n,s),e[Xt]=t.current,Zs(e.nodeType===8?e.parentNode:e),new sc(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=vf(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return an(e)};ft.hydrate=function(e,t,r){if(!uo(t))throw Error(N(200));return co(null,e,t,!0,r)};ft.hydrateRoot=function(e,t,r){if(!ic(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Jp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Gp(t,null,e,1,r??null,s,!1,i,a),e[Xt]=t.current,Zs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new lo(t)};ft.render=function(e,t,r){if(!uo(t))throw Error(N(200));return co(null,e,t,!1,r)};ft.unmountComponentAtNode=function(e){if(!uo(e))throw Error(N(40));return e._reactRootContainer?(an(function(){co(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ft.unstable_batchedUpdates=Xu;ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!uo(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return co(e,t,r,!1,n)};ft.version="18.3.1-next-f1338f8080-20240426";function Qp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qp)}catch(e){console.error(e)}}Qp(),Jh.exports=ft;var ac=Jh.exports;const Ry=Uh(ac),Py=Dh({__proto__:null,default:Ry},[ac]);var Yp,Id=ac;Yp=Id.createRoot,Id.hydrateRoot;const Ny="modulepreload",Oy=function(e){return"/madfood/"+e},Dd={},Ay=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Oy(l),l in Dd)return;Dd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Ny,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function Ly(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:s,onRegisteredSW:i,onRegisterError:a}=e;let o,l;const u=async(d=!0)=>{await l};async function c(){if("serviceWorker"in navigator){if(o=await Ay(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/madfood/sw.js",{scope:"/madfood/",type:"classic"})).catch(d=>{a==null||a(d)}),!o)return;o.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),o.addEventListener("installed",d=>{d.isUpdate||n==null||n()}),o.register({immediate:t}).then(d=>{i?i("/madfood/sw.js",d):s==null||s(d)}).catch(d=>{a==null||a(d)})}}return l=c(),u}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pe.apply(this,arguments)}var Ce;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ce||(Ce={}));const Ud="popstate";function Iy(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return li("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ln(s)}return Uy(t,r,null,e)}function Y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function on(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dy(){return Math.random().toString(36).substr(2,8)}function $d(e,t){return{usr:e.state,key:e.key,idx:t}}function li(e,t,r,n){return r===void 0&&(r=null),pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ir(t):t,{state:r,key:t&&t.key||n||Dy()})}function ln(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ir(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Uy(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ce.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(pe({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=Ce.Pop;let k=c(),p=k==null?null:k-u;u=k,l&&l({action:o,location:w.location,delta:p})}function h(k,p){o=Ce.Push;let f=li(w.location,k,p);u=c()+1;let v=$d(f,u),E=w.createHref(f);try{a.pushState(v,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(E)}i&&l&&l({action:o,location:w.location,delta:1})}function g(k,p){o=Ce.Replace;let f=li(w.location,k,p);u=c();let v=$d(f,u),E=w.createHref(f);a.replaceState(v,"",E),i&&l&&l({action:o,location:w.location,delta:0})}function y(k){let p=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof k=="string"?k:ln(k);return f=f.replace(/ $/,"%20"),Y(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let w={get action(){return o},get location(){return e(s,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ud,d),l=k,()=>{s.removeEventListener(Ud,d),l=null}},createHref(k){return t(s,k)},createURL:y,encodeLocation(k){let p=y(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(k){return a.go(k)}};return w}var se;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(se||(se={}));const $y=new Set(["lazy","caseSensitive","path","id","index","children"]);function My(e){return e.index===!0}function Ba(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((s,i)=>{let a=[...r,String(i)],o=typeof s.id=="string"?s.id:a.join("-");if(Y(s.index!==!0||!s.children,"Cannot specify children on an index route"),Y(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),My(s)){let l=pe({},s,t(s),{id:o});return n[o]=l,l}else{let l=pe({},s,t(s),{id:o,children:void 0});return n[o]=l,s.children&&(l.children=Ba(s.children,t,a,n)),l}})}function Vr(e,t,r){return r===void 0&&(r="/"),va(e,t,r,!1)}function va(e,t,r,n){let s=typeof t=="string"?Ir(t):t,i=tr(s.pathname||"/",r);if(i==null)return null;let a=Xp(e);zy(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Xy(i);o=Qy(a[l],u,n)}return o}function Fy(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],handle:r.handle}}function Xp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Y(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Qt([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(Y(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xp(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Gy(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Zp(i.path))s(i,a,l)}),t}function Zp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Zp(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function zy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Jy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const By=/^:[\w-]+$/,Wy=3,Vy=2,Hy=1,qy=10,Ky=-2,Md=e=>e==="*";function Gy(e,t){let r=e.split("/"),n=r.length;return r.some(Md)&&(n+=Ky),t&&(n+=Vy),r.filter(s=>!Md(s)).reduce((s,i)=>s+(By.test(i)?Wy:i===""?Hy:qy),n)}function Jy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Qy(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Wa({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Wa({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Qt([i,d.pathname]),pathnameBase:rw(Qt([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Qt([i,d.pathnameBase]))}return a}function Wa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Yy(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let w=o[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[d];return g&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Yy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),on(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Xy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return on(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ew=e=>Zy.test(e);function tw(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ir(e):e,i;if(r)if(ew(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),on(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Fd(r.substring(1),"/"):i=Fd(r,t)}else i=t;return{pathname:i,search:nw(n),hash:sw(s)}}function Fd(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function em(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ho(e,t){let r=em(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fo(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ir(e):(s=pe({},e),Y(!s.pathname||!s.pathname.includes("?"),Qo("?","pathname","search",s)),Y(!s.pathname||!s.pathname.includes("#"),Qo("#","pathname","hash",s)),Y(!s.search||!s.search.includes("#"),Qo("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=tw(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),rw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Va{constructor(t,r,n,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function ui(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tm=["post","put","patch","delete"],iw=new Set(tm),aw=["get",...tm],ow=new Set(aw),lw=new Set([301,302,303,307,308]),uw=new Set([307,308]),Yo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ss={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},oc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dw=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),rm="remix-router-transitions";function hw(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;Y(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let _=e.detectErrorBoundary;s=x=>({hasErrorBoundary:_(x)})}else s=dw;let i={},a=Ba(e.routes,s,void 0,i),o,l=e.basename||"/",u=e.dataStrategy||gw,c=e.patchRoutesOnNavigation,d=pe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,g=new Set,y=null,w=null,k=null,p=e.hydrationData!=null,f=Vr(a,e.history.location,l),v=!1,E=null;if(f==null&&!c){let _=Xe(404,{pathname:e.history.location.pathname}),{matches:x,route:C}=Yd(a);f=x,E={[C.id]:_}}f&&!e.hydrationData&&Ri(f,a,e.history.location.pathname).active&&(f=null);let T;if(f)if(f.some(_=>_.route.lazy))T=!1;else if(!f.some(_=>_.route.loader))T=!0;else if(d.v7_partialHydration){let _=e.hydrationData?e.hydrationData.loaderData:null,x=e.hydrationData?e.hydrationData.errors:null;if(x){let C=f.findIndex(P=>x[P.route.id]!==void 0);T=f.slice(0,C+1).every(P=>!Zl(P.route,_,x))}else T=f.every(C=>!Zl(C.route,_,x))}else T=e.hydrationData!=null;else if(T=!1,f=[],d.v7_partialHydration){let _=Ri(null,a,e.history.location.pathname);_.active&&_.matches&&(v=!0,f=_.matches)}let R,S={historyAction:e.history.action,location:e.history.location,matches:f,initialized:T,navigation:Yo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},j=Ce.Pop,M=!1,A,I=!1,G=new Map,Z=null,Re=!1,kt=!1,ar=[],or=new Set,O=new Map,q=0,J=-1,ae=new Map,oe=new Set,Et=new Map,st=new Map,He=new Set,qe=new Map,mt=new Map,Ci;function Mm(){if(h=e.history.listen(_=>{let{action:x,location:C,delta:P}=_;if(Ci){Ci(),Ci=void 0;return}on(mt.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let L=Ec({currentLocation:S.location,nextLocation:C,historyAction:x});if(L&&P!=null){let W=new Promise(K=>{Ci=K});e.history.go(P*-1),ji(L,{state:"blocked",location:C,proceed(){ji(L,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),W.then(()=>e.history.go(P))},reset(){let K=new Map(S.blockers);K.set(L,Ss),Ke({blockers:K})}});return}return Dr(x,C)}),r){Pw(t,G);let _=()=>Nw(t,G);t.addEventListener("pagehide",_),Z=()=>t.removeEventListener("pagehide",_)}return S.initialized||Dr(Ce.Pop,S.location,{initialHydration:!0}),R}function Fm(){h&&h(),Z&&Z(),g.clear(),A&&A.abort(),S.fetchers.forEach((_,x)=>Ti(x)),S.blockers.forEach((_,x)=>kc(x))}function zm(_){return g.add(_),()=>g.delete(_)}function Ke(_,x){x===void 0&&(x={}),S=pe({},S,_);let C=[],P=[];d.v7_fetcherPersist&&S.fetchers.forEach((L,W)=>{L.state==="idle"&&(He.has(W)?P.push(W):C.push(W))}),He.forEach(L=>{!S.fetchers.has(L)&&!O.has(L)&&P.push(L)}),[...g].forEach(L=>L(S,{deletedFetchers:P,viewTransitionOpts:x.viewTransitionOpts,flushSync:x.flushSync===!0})),d.v7_fetcherPersist?(C.forEach(L=>S.fetchers.delete(L)),P.forEach(L=>Ti(L))):P.forEach(L=>He.delete(L))}function fn(_,x,C){var P,L;let{flushSync:W}=C===void 0?{}:C,K=S.actionData!=null&&S.navigation.formMethod!=null&&Rt(S.navigation.formMethod)&&S.navigation.state==="loading"&&((P=_.state)==null?void 0:P._isRedirect)!==!0,$;x.actionData?Object.keys(x.actionData).length>0?$=x.actionData:$=null:K?$=S.actionData:$=null;let F=x.loaderData?Jd(S.loaderData,x.loaderData,x.matches||[],x.errors):S.loaderData,U=S.blockers;U.size>0&&(U=new Map(U),U.forEach((ee,Ie)=>U.set(Ie,Ss)));let B=M===!0||S.navigation.formMethod!=null&&Rt(S.navigation.formMethod)&&((L=_.state)==null?void 0:L._isRedirect)!==!0;o&&(a=o,o=void 0),Re||j===Ce.Pop||(j===Ce.Push?e.history.push(_,_.state):j===Ce.Replace&&e.history.replace(_,_.state));let Q;if(j===Ce.Pop){let ee=G.get(S.location.pathname);ee&&ee.has(_.pathname)?Q={currentLocation:S.location,nextLocation:_}:G.has(_.pathname)&&(Q={currentLocation:_,nextLocation:S.location})}else if(I){let ee=G.get(S.location.pathname);ee?ee.add(_.pathname):(ee=new Set([_.pathname]),G.set(S.location.pathname,ee)),Q={currentLocation:S.location,nextLocation:_}}Ke(pe({},x,{actionData:$,loaderData:F,historyAction:j,location:_,initialized:!0,navigation:Yo,revalidation:"idle",restoreScrollPosition:xc(_,x.matches||S.matches),preventScrollReset:B,blockers:U}),{viewTransitionOpts:Q,flushSync:W===!0}),j=Ce.Pop,M=!1,I=!1,Re=!1,kt=!1,ar=[]}async function mc(_,x){if(typeof _=="number"){e.history.go(_);return}let C=Xl(S.location,S.matches,l,d.v7_prependBasename,_,d.v7_relativeSplatPath,x==null?void 0:x.fromRouteId,x==null?void 0:x.relative),{path:P,submission:L,error:W}=zd(d.v7_normalizeFormMethod,!1,C,x),K=S.location,$=li(S.location,P,x&&x.state);$=pe({},$,e.history.encodeLocation($));let F=x&&x.replace!=null?x.replace:void 0,U=Ce.Push;F===!0?U=Ce.Replace:F===!1||L!=null&&Rt(L.formMethod)&&L.formAction===S.location.pathname+S.location.search&&(U=Ce.Replace);let B=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,Q=(x&&x.flushSync)===!0,ee=Ec({currentLocation:K,nextLocation:$,historyAction:U});if(ee){ji(ee,{state:"blocked",location:$,proceed(){ji(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),mc(_,x)},reset(){let Ie=new Map(S.blockers);Ie.set(ee,Ss),Ke({blockers:Ie})}});return}return await Dr(U,$,{submission:L,pendingError:W,preventScrollReset:B,replace:x&&x.replace,enableViewTransition:x&&x.viewTransition,flushSync:Q})}function Bm(){if(_o(),Ke({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Dr(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Dr(j||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:I===!0})}}async function Dr(_,x,C){A&&A.abort(),A=null,j=_,Re=(C&&C.startUninterruptedRevalidation)===!0,Xm(S.location,S.matches),M=(C&&C.preventScrollReset)===!0,I=(C&&C.enableViewTransition)===!0;let P=o||a,L=C&&C.overrideNavigation,W=C!=null&&C.initialHydration&&S.matches&&S.matches.length>0&&!v?S.matches:Vr(P,x,l),K=(C&&C.flushSync)===!0;if(W&&S.initialized&&!kt&&kw(S.location,x)&&!(C&&C.submission&&Rt(C.submission.formMethod))){fn(x,{matches:W},{flushSync:K});return}let $=Ri(W,P,x.pathname);if($.active&&$.matches&&(W=$.matches),!W){let{error:ue,notFoundMatches:ne,route:_e}=So(x.pathname);fn(x,{matches:ne,loaderData:{},errors:{[_e.id]:ue}},{flushSync:K});return}A=new AbortController;let F=yn(e.history,x,A.signal,C&&C.submission),U;if(C&&C.pendingError)U=[Hr(W).route.id,{type:se.error,error:C.pendingError}];else if(C&&C.submission&&Rt(C.submission.formMethod)){let ue=await Wm(F,x,C.submission,W,$.active,{replace:C.replace,flushSync:K});if(ue.shortCircuited)return;if(ue.pendingActionResult){let[ne,_e]=ue.pendingActionResult;if(ot(_e)&&ui(_e.error)&&_e.error.status===404){A=null,fn(x,{matches:ue.matches,loaderData:{},errors:{[ne]:_e.error}});return}}W=ue.matches||W,U=ue.pendingActionResult,L=Xo(x,C.submission),K=!1,$.active=!1,F=yn(e.history,F.url,F.signal)}let{shortCircuited:B,matches:Q,loaderData:ee,errors:Ie}=await Vm(F,x,W,$.active,L,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,C&&C.initialHydration===!0,K,U);B||(A=null,fn(x,pe({matches:Q||W},Qd(U),{loaderData:ee,errors:Ie})))}async function Wm(_,x,C,P,L,W){W===void 0&&(W={}),_o();let K=jw(x,C);if(Ke({navigation:K},{flushSync:W.flushSync===!0}),L){let U=await Pi(P,x.pathname,_.signal);if(U.type==="aborted")return{shortCircuited:!0};if(U.type==="error"){let B=Hr(U.partialMatches).route.id;return{matches:U.partialMatches,pendingActionResult:[B,{type:se.error,error:U.error}]}}else if(U.matches)P=U.matches;else{let{notFoundMatches:B,error:Q,route:ee}=So(x.pathname);return{matches:B,pendingActionResult:[ee.id,{type:se.error,error:Q}]}}}let $,F=Ps(P,x);if(!F.route.action&&!F.route.lazy)$={type:se.error,error:Xe(405,{method:_.method,pathname:x.pathname,routeId:F.route.id})};else if($=(await us("action",S,_,[F],P,null))[F.route.id],_.signal.aborted)return{shortCircuited:!0};if(Yr($)){let U;return W&&W.replace!=null?U=W.replace:U=qd($.response.headers.get("Location"),new URL(_.url),l,e.history)===S.location.pathname+S.location.search,await Ur(_,$,!0,{submission:C,replace:U}),{shortCircuited:!0}}if(_r($))throw Xe(400,{type:"defer-action"});if(ot($)){let U=Hr(P,F.route.id);return(W&&W.replace)!==!0&&(j=Ce.Push),{matches:P,pendingActionResult:[U.route.id,$]}}return{matches:P,pendingActionResult:[F.route.id,$]}}async function Vm(_,x,C,P,L,W,K,$,F,U,B){let Q=L||Xo(x,W),ee=W||K||Zd(Q),Ie=!Re&&(!d.v7_partialHydration||!F);if(P){if(Ie){let Se=gc(B);Ke(pe({navigation:Q},Se!==void 0?{actionData:Se}:{}),{flushSync:U})}let re=await Pi(C,x.pathname,_.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let Se=Hr(re.partialMatches).route.id;return{matches:re.partialMatches,loaderData:{},errors:{[Se]:re.error}}}else if(re.matches)C=re.matches;else{let{error:Se,notFoundMatches:mn,route:hs}=So(x.pathname);return{matches:mn,loaderData:{},errors:{[hs.id]:Se}}}}let ue=o||a,[ne,_e]=Wd(e.history,S,C,ee,x,d.v7_partialHydration&&F===!0,d.v7_skipActionErrorRevalidation,kt,ar,or,He,Et,oe,ue,l,B);if(ko(re=>!(C&&C.some(Se=>Se.route.id===re))||ne&&ne.some(Se=>Se.route.id===re)),J=++q,ne.length===0&&_e.length===0){let re=_c();return fn(x,pe({matches:C,loaderData:{},errors:B&&ot(B[1])?{[B[0]]:B[1].error}:null},Qd(B),re?{fetchers:new Map(S.fetchers)}:{}),{flushSync:U}),{shortCircuited:!0}}if(Ie){let re={};if(!P){re.navigation=Q;let Se=gc(B);Se!==void 0&&(re.actionData=Se)}_e.length>0&&(re.fetchers=Hm(_e)),Ke(re,{flushSync:U})}_e.forEach(re=>{ur(re.key),re.controller&&O.set(re.key,re.controller)});let pn=()=>_e.forEach(re=>ur(re.key));A&&A.signal.addEventListener("abort",pn);let{loaderResults:cs,fetcherResults:Wt}=await vc(S,C,ne,_e,_);if(_.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",pn),_e.forEach(re=>O.delete(re.key));let Dt=Qi(cs);if(Dt)return await Ur(_,Dt.result,!0,{replace:$}),{shortCircuited:!0};if(Dt=Qi(Wt),Dt)return oe.add(Dt.key),await Ur(_,Dt.result,!0,{replace:$}),{shortCircuited:!0};let{loaderData:Eo,errors:ds}=Gd(S,C,cs,B,_e,Wt,qe);qe.forEach((re,Se)=>{re.subscribe(mn=>{(mn||re.done)&&qe.delete(Se)})}),d.v7_partialHydration&&F&&S.errors&&(ds=pe({},S.errors,ds));let $r=_c(),Ni=Sc(J),Oi=$r||Ni||_e.length>0;return pe({matches:C,loaderData:Eo,errors:ds},Oi?{fetchers:new Map(S.fetchers)}:{})}function gc(_){if(_&&!ot(_[1]))return{[_[0]]:_[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Hm(_){return _.forEach(x=>{let C=S.fetchers.get(x.key),P=ks(void 0,C?C.data:void 0);S.fetchers.set(x.key,P)}),new Map(S.fetchers)}function qm(_,x,C,P){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ur(_);let L=(P&&P.flushSync)===!0,W=o||a,K=Xl(S.location,S.matches,l,d.v7_prependBasename,C,d.v7_relativeSplatPath,x,P==null?void 0:P.relative),$=Vr(W,K,l),F=Ri($,W,K);if(F.active&&F.matches&&($=F.matches),!$){Bt(_,x,Xe(404,{pathname:K}),{flushSync:L});return}let{path:U,submission:B,error:Q}=zd(d.v7_normalizeFormMethod,!0,K,P);if(Q){Bt(_,x,Q,{flushSync:L});return}let ee=Ps($,U),Ie=(P&&P.preventScrollReset)===!0;if(B&&Rt(B.formMethod)){Km(_,x,U,ee,$,F.active,L,Ie,B);return}Et.set(_,{routeId:x,path:U}),Gm(_,x,U,ee,$,F.active,L,Ie,B)}async function Km(_,x,C,P,L,W,K,$,F){_o(),Et.delete(_);function U(xe){if(!xe.route.action&&!xe.route.lazy){let gn=Xe(405,{method:F.formMethod,pathname:C,routeId:x});return Bt(_,x,gn,{flushSync:K}),!0}return!1}if(!W&&U(P))return;let B=S.fetchers.get(_);lr(_,Rw(F,B),{flushSync:K});let Q=new AbortController,ee=yn(e.history,C,Q.signal,F);if(W){let xe=await Pi(L,new URL(ee.url).pathname,ee.signal,_);if(xe.type==="aborted")return;if(xe.type==="error"){Bt(_,x,xe.error,{flushSync:K});return}else if(xe.matches){if(L=xe.matches,P=Ps(L,C),U(P))return}else{Bt(_,x,Xe(404,{pathname:C}),{flushSync:K});return}}O.set(_,Q);let Ie=q,ne=(await us("action",S,ee,[P],L,_))[P.route.id];if(ee.signal.aborted){O.get(_)===Q&&O.delete(_);return}if(d.v7_fetcherPersist&&He.has(_)){if(Yr(ne)||ot(ne)){lr(_,dr(void 0));return}}else{if(Yr(ne))if(O.delete(_),J>Ie){lr(_,dr(void 0));return}else return oe.add(_),lr(_,ks(F)),Ur(ee,ne,!1,{fetcherSubmission:F,preventScrollReset:$});if(ot(ne)){Bt(_,x,ne.error);return}}if(_r(ne))throw Xe(400,{type:"defer-action"});let _e=S.navigation.location||S.location,pn=yn(e.history,_e,Q.signal),cs=o||a,Wt=S.navigation.state!=="idle"?Vr(cs,S.navigation.location,l):S.matches;Y(Wt,"Didn't find any matches after fetcher action");let Dt=++q;ae.set(_,Dt);let Eo=ks(F,ne.data);S.fetchers.set(_,Eo);let[ds,$r]=Wd(e.history,S,Wt,F,_e,!1,d.v7_skipActionErrorRevalidation,kt,ar,or,He,Et,oe,cs,l,[P.route.id,ne]);$r.filter(xe=>xe.key!==_).forEach(xe=>{let gn=xe.key,Cc=S.fetchers.get(gn),tg=ks(void 0,Cc?Cc.data:void 0);S.fetchers.set(gn,tg),ur(gn),xe.controller&&O.set(gn,xe.controller)}),Ke({fetchers:new Map(S.fetchers)});let Ni=()=>$r.forEach(xe=>ur(xe.key));Q.signal.addEventListener("abort",Ni);let{loaderResults:Oi,fetcherResults:re}=await vc(S,Wt,ds,$r,pn);if(Q.signal.aborted)return;Q.signal.removeEventListener("abort",Ni),ae.delete(_),O.delete(_),$r.forEach(xe=>O.delete(xe.key));let Se=Qi(Oi);if(Se)return Ur(pn,Se.result,!1,{preventScrollReset:$});if(Se=Qi(re),Se)return oe.add(Se.key),Ur(pn,Se.result,!1,{preventScrollReset:$});let{loaderData:mn,errors:hs}=Gd(S,Wt,Oi,void 0,$r,re,qe);if(S.fetchers.has(_)){let xe=dr(ne.data);S.fetchers.set(_,xe)}Sc(Dt),S.navigation.state==="loading"&&Dt>J?(Y(j,"Expected pending action"),A&&A.abort(),fn(S.navigation.location,{matches:Wt,loaderData:mn,errors:hs,fetchers:new Map(S.fetchers)})):(Ke({errors:hs,loaderData:Jd(S.loaderData,mn,Wt,hs),fetchers:new Map(S.fetchers)}),kt=!1)}async function Gm(_,x,C,P,L,W,K,$,F){let U=S.fetchers.get(_);lr(_,ks(F,U?U.data:void 0),{flushSync:K});let B=new AbortController,Q=yn(e.history,C,B.signal);if(W){let ne=await Pi(L,new URL(Q.url).pathname,Q.signal,_);if(ne.type==="aborted")return;if(ne.type==="error"){Bt(_,x,ne.error,{flushSync:K});return}else if(ne.matches)L=ne.matches,P=Ps(L,C);else{Bt(_,x,Xe(404,{pathname:C}),{flushSync:K});return}}O.set(_,B);let ee=q,ue=(await us("loader",S,Q,[P],L,_))[P.route.id];if(_r(ue)&&(ue=await lc(ue,Q.signal,!0)||ue),O.get(_)===B&&O.delete(_),!Q.signal.aborted){if(He.has(_)){lr(_,dr(void 0));return}if(Yr(ue))if(J>ee){lr(_,dr(void 0));return}else{oe.add(_),await Ur(Q,ue,!1,{preventScrollReset:$});return}if(ot(ue)){Bt(_,x,ue.error);return}Y(!_r(ue),"Unhandled fetcher deferred data"),lr(_,dr(ue.data))}}async function Ur(_,x,C,P){let{submission:L,fetcherSubmission:W,preventScrollReset:K,replace:$}=P===void 0?{}:P;x.response.headers.has("X-Remix-Revalidate")&&(kt=!0);let F=x.response.headers.get("Location");Y(F,"Expected a Location header on the redirect Response"),F=qd(F,new URL(_.url),l,e.history);let U=li(S.location,F,{_isRedirect:!0});if(r){let ne=!1;if(x.response.headers.has("X-Remix-Reload-Document"))ne=!0;else if(oc.test(F)){const _e=e.history.createURL(F);ne=_e.origin!==t.location.origin||tr(_e.pathname,l)==null}if(ne){$?t.location.replace(F):t.location.assign(F);return}}A=null;let B=$===!0||x.response.headers.has("X-Remix-Replace")?Ce.Replace:Ce.Push,{formMethod:Q,formAction:ee,formEncType:Ie}=S.navigation;!L&&!W&&Q&&ee&&Ie&&(L=Zd(S.navigation));let ue=L||W;if(uw.has(x.response.status)&&ue&&Rt(ue.formMethod))await Dr(B,U,{submission:pe({},ue,{formAction:F}),preventScrollReset:K||M,enableViewTransition:C?I:void 0});else{let ne=Xo(U,L);await Dr(B,U,{overrideNavigation:ne,fetcherSubmission:W,preventScrollReset:K||M,enableViewTransition:C?I:void 0})}}async function us(_,x,C,P,L,W){let K,$={};try{K=await vw(u,_,x,C,P,L,W,i,s)}catch(F){return P.forEach(U=>{$[U.route.id]={type:se.error,error:F}}),$}for(let[F,U]of Object.entries(K))if(Ew(U)){let B=U.result;$[F]={type:se.redirect,response:_w(B,C,F,L,l,d.v7_relativeSplatPath)}}else $[F]=await ww(U);return $}async function vc(_,x,C,P,L){let W=_.matches,K=us("loader",_,L,C,x,null),$=Promise.all(P.map(async B=>{if(B.matches&&B.match&&B.controller){let ee=(await us("loader",_,yn(e.history,B.path,B.controller.signal),[B.match],B.matches,B.key))[B.match.route.id];return{[B.key]:ee}}else return Promise.resolve({[B.key]:{type:se.error,error:Xe(404,{pathname:B.path})}})})),F=await K,U=(await $).reduce((B,Q)=>Object.assign(B,Q),{});return await Promise.all([Cw(x,F,L.signal,W,_.loaderData),Tw(x,U,P)]),{loaderResults:F,fetcherResults:U}}function _o(){kt=!0,ar.push(...ko()),Et.forEach((_,x)=>{O.has(x)&&or.add(x),ur(x)})}function lr(_,x,C){C===void 0&&(C={}),S.fetchers.set(_,x),Ke({fetchers:new Map(S.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function Bt(_,x,C,P){P===void 0&&(P={});let L=Hr(S.matches,x);Ti(_),Ke({errors:{[L.route.id]:C},fetchers:new Map(S.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function yc(_){return st.set(_,(st.get(_)||0)+1),He.has(_)&&He.delete(_),S.fetchers.get(_)||cw}function Ti(_){let x=S.fetchers.get(_);O.has(_)&&!(x&&x.state==="loading"&&ae.has(_))&&ur(_),Et.delete(_),ae.delete(_),oe.delete(_),d.v7_fetcherPersist&&He.delete(_),or.delete(_),S.fetchers.delete(_)}function Jm(_){let x=(st.get(_)||0)-1;x<=0?(st.delete(_),He.add(_),d.v7_fetcherPersist||Ti(_)):st.set(_,x),Ke({fetchers:new Map(S.fetchers)})}function ur(_){let x=O.get(_);x&&(x.abort(),O.delete(_))}function wc(_){for(let x of _){let C=yc(x),P=dr(C.data);S.fetchers.set(x,P)}}function _c(){let _=[],x=!1;for(let C of oe){let P=S.fetchers.get(C);Y(P,"Expected fetcher: "+C),P.state==="loading"&&(oe.delete(C),_.push(C),x=!0)}return wc(_),x}function Sc(_){let x=[];for(let[C,P]of ae)if(P<_){let L=S.fetchers.get(C);Y(L,"Expected fetcher: "+C),L.state==="loading"&&(ur(C),ae.delete(C),x.push(C))}return wc(x),x.length>0}function Qm(_,x){let C=S.blockers.get(_)||Ss;return mt.get(_)!==x&&mt.set(_,x),C}function kc(_){S.blockers.delete(_),mt.delete(_)}function ji(_,x){let C=S.blockers.get(_)||Ss;Y(C.state==="unblocked"&&x.state==="blocked"||C.state==="blocked"&&x.state==="blocked"||C.state==="blocked"&&x.state==="proceeding"||C.state==="blocked"&&x.state==="unblocked"||C.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+C.state+" -> "+x.state);let P=new Map(S.blockers);P.set(_,x),Ke({blockers:P})}function Ec(_){let{currentLocation:x,nextLocation:C,historyAction:P}=_;if(mt.size===0)return;mt.size>1&&on(!1,"A router only supports one blocker at a time");let L=Array.from(mt.entries()),[W,K]=L[L.length-1],$=S.blockers.get(W);if(!($&&$.state==="proceeding")&&K({currentLocation:x,nextLocation:C,historyAction:P}))return W}function So(_){let x=Xe(404,{pathname:_}),C=o||a,{matches:P,route:L}=Yd(C);return ko(),{notFoundMatches:P,route:L,error:x}}function ko(_){let x=[];return qe.forEach((C,P)=>{(!_||_(P))&&(C.cancel(),x.push(P),qe.delete(P))}),x}function Ym(_,x,C){if(y=_,k=x,w=C||null,!p&&S.navigation===Yo){p=!0;let P=xc(S.location,S.matches);P!=null&&Ke({restoreScrollPosition:P})}return()=>{y=null,k=null,w=null}}function bc(_,x){return w&&w(_,x.map(P=>Fy(P,S.loaderData)))||_.key}function Xm(_,x){if(y&&k){let C=bc(_,x);y[C]=k()}}function xc(_,x){if(y){let C=bc(_,x),P=y[C];if(typeof P=="number")return P}return null}function Ri(_,x,C){if(c)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:va(x,C,l,!0)}}else return{active:!0,matches:va(x,C,l,!0)||[]};return{active:!1,matches:null}}async function Pi(_,x,C,P){if(!c)return{type:"success",matches:_};let L=_;for(;;){let W=o==null,K=o||a,$=i;try{await c({signal:C,path:x,matches:L,fetcherKey:P,patch:(B,Q)=>{C.aborted||Hd(B,Q,K,$,s)}})}catch(B){return{type:"error",error:B,partialMatches:L}}finally{W&&!C.aborted&&(a=[...a])}if(C.aborted)return{type:"aborted"};let F=Vr(K,x,l);if(F)return{type:"success",matches:F};let U=va(K,x,l,!0);if(!U||L.length===U.length&&L.every((B,Q)=>B.route.id===U[Q].route.id))return{type:"success",matches:null};L=U}}function Zm(_){i={},o=Ba(_,s,void 0,i)}function eg(_,x){let C=o==null;Hd(_,x,o||a,i,s),C&&(a=[...a],Ke({}))}return R={get basename(){return l},get future(){return d},get state(){return S},get routes(){return a},get window(){return t},initialize:Mm,subscribe:zm,enableScrollRestoration:Ym,navigate:mc,fetch:qm,revalidate:Bm,createHref:_=>e.history.createHref(_),encodeLocation:_=>e.history.encodeLocation(_),getFetcher:yc,deleteFetcher:Jm,dispose:Fm,getBlocker:Qm,deleteBlocker:kc,patchRoutes:eg,_internalFetchControllers:O,_internalActiveDeferreds:qe,_internalSetRoutes:Zm},R}function fw(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Xl(e,t,r,n,s,i,a,o){let l,u;if(a){l=[];for(let d of t)if(l.push(d),d.route.id===a){u=d;break}}else l=t,u=t[t.length-1];let c=fo(s||".",ho(l,i),tr(e.pathname,r)||e.pathname,o==="path");if(s==null&&(c.search=e.search,c.hash=e.hash),(s==null||s===""||s===".")&&u){let d=uc(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(c.search),g=h.getAll("index");h.delete("index"),g.filter(w=>w).forEach(w=>h.append("index",w));let y=h.toString();c.search=y?"?"+y:""}}return n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:Qt([r,c.pathname])),ln(c)}function zd(e,t,r,n){if(!n||!fw(n))return{path:r};if(n.formMethod&&!xw(n.formMethod))return{path:r,error:Xe(405,{method:n.formMethod})};let s=()=>({path:r,error:Xe(400,{type:"invalid-body"})}),i=n.formMethod||"get",a=e?i.toUpperCase():i.toLowerCase(),o=im(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Rt(a))return s();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,y)=>{let[w,k]=y;return""+g+w+"="+k+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Rt(a))return s();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}Y(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=eu(n.formData),u=n.formData;else if(n.body instanceof FormData)l=eu(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Kd(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Kd(l)}catch{return s()}let c={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Rt(c.formMethod))return{path:r,submission:c};let d=Ir(r);return t&&d.search&&uc(d.search)&&l.append("index",""),d.search="?"+l,{path:ln(d),submission:c}}function Bd(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(s=>s.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function Wd(e,t,r,n,s,i,a,o,l,u,c,d,h,g,y,w){let k=w?ot(w[1])?w[1].error:w[1].data:void 0,p=e.createURL(t.location),f=e.createURL(s),v=r;i&&t.errors?v=Bd(r,Object.keys(t.errors)[0],!0):w&&ot(w[1])&&(v=Bd(r,w[0]));let E=w?w[1].statusCode:void 0,T=a&&E&&E>=400,R=v.filter((j,M)=>{let{route:A}=j;if(A.lazy)return!0;if(A.loader==null)return!1;if(i)return Zl(A,t.loaderData,t.errors);if(pw(t.loaderData,t.matches[M],j)||l.some(Z=>Z===j.route.id))return!0;let I=t.matches[M],G=j;return Vd(j,pe({currentUrl:p,currentParams:I.params,nextUrl:f,nextParams:G.params},n,{actionResult:k,actionStatus:E,defaultShouldRevalidate:T?!1:o||p.pathname+p.search===f.pathname+f.search||p.search!==f.search||nm(I,G)}))}),S=[];return d.forEach((j,M)=>{if(i||!r.some(Re=>Re.route.id===j.routeId)||c.has(M))return;let A=Vr(g,j.path,y);if(!A){S.push({key:M,routeId:j.routeId,path:j.path,matches:null,match:null,controller:null});return}let I=t.fetchers.get(M),G=Ps(A,j.path),Z=!1;h.has(M)?Z=!1:u.has(M)?(u.delete(M),Z=!0):I&&I.state!=="idle"&&I.data===void 0?Z=o:Z=Vd(G,pe({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:f,nextParams:r[r.length-1].params},n,{actionResult:k,actionStatus:E,defaultShouldRevalidate:T?!1:o})),Z&&S.push({key:M,routeId:j.routeId,path:j.path,matches:A,match:G,controller:new AbortController})}),[R,S]}function Zl(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function pw(e,t,r){let n=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return n||s}function nm(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Vd(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Hd(e,t,r,n,s){var i;let a;if(e){let u=n[e];Y(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),a=u.children}else a=r;let o=t.filter(u=>!a.some(c=>sm(u,c))),l=Ba(o,s,[e||"_","patch",String(((i=a)==null?void 0:i.length)||"0")],n);a.push(...l)}function sm(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>sm(r,i))}):!1}async function mw(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let s=r[e.id];Y(s,"No route found in manifest");let i={};for(let a in n){let l=s[a]!==void 0&&a!=="hasErrorBoundary";on(!l,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!$y.has(a)&&(i[a]=n[a])}Object.assign(s,i),Object.assign(s,pe({},t(s),{lazy:void 0}))}async function gw(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,a)=>Object.assign(s,{[r[a].route.id]:i}),{})}async function vw(e,t,r,n,s,i,a,o,l,u){let c=i.map(g=>g.route.lazy?mw(g.route,l,o):void 0),d=i.map((g,y)=>{let w=c[y],k=s.some(f=>f.route.id===g.route.id);return pe({},g,{shouldLoad:k,resolve:async f=>(f&&n.method==="GET"&&(g.route.lazy||g.route.loader)&&(k=!0),k?yw(t,n,g,w,f,u):Promise.resolve({type:se.data,result:void 0}))})}),h=await e({matches:d,request:n,params:i[0].params,fetcherKey:a,context:u});try{await Promise.all(c)}catch{}return h}async function yw(e,t,r,n,s,i){let a,o,l=u=>{let c,d=new Promise((y,w)=>c=w);o=()=>c(),t.signal.addEventListener("abort",o);let h=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):u({request:t,params:r.params,context:i},...y!==void 0?[y]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(w=>h(w)):h())}}catch(y){return{type:"error",result:y}}})();return Promise.race([g,d])};try{let u=r.route[e];if(n)if(u){let c,[d]=await Promise.all([l(u).catch(h=>{c=h}),n]);if(c!==void 0)throw c;a=d}else if(await n,u=r.route[e],u)a=await l(u);else if(e==="action"){let c=new URL(t.url),d=c.pathname+c.search;throw Xe(405,{method:t.method,pathname:d,routeId:r.route.id})}else return{type:se.data,result:void 0};else if(u)a=await l(u);else{let c=new URL(t.url),d=c.pathname+c.search;throw Xe(404,{pathname:d})}Y(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:se.error,result:u}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function ww(e){let{result:t,type:r}=e;if(am(t)){let d;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(h){return{type:se.error,error:h}}return r===se.error?{type:se.error,error:new Va(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:se.data,data:d,statusCode:t.status,headers:t.headers}}if(r===se.error){if(Xd(t)){var n,s;if(t.data instanceof Error){var i,a;return{type:se.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:se.error,error:new Va(((n=t.init)==null?void 0:n.status)||500,void 0,t.data),statusCode:ui(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:se.error,error:t,statusCode:ui(t)?t.status:void 0}}if(bw(t)){var o,l;return{type:se.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Xd(t)){var u,c;return{type:se.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:se.data,data:t}}function _w(e,t,r,n,s,i){let a=e.headers.get("Location");if(Y(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!oc.test(a)){let o=n.slice(0,n.findIndex(l=>l.route.id===r)+1);a=Xl(new URL(t.url),o,s,!0,a,i),e.headers.set("Location",a)}return e}function qd(e,t,r,n){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(oc.test(e)){let i=e,a=i.startsWith("//")?new URL(t.protocol+i):new URL(i);if(s.includes(a.protocol))throw new Error("Invalid redirect location");let o=tr(a.pathname,r)!=null;if(a.origin===t.origin&&o)return a.pathname+a.search+a.hash}try{let i=n.createURL(e);if(s.includes(i.protocol))throw new Error("Invalid redirect location")}catch{}return e}function yn(e,t,r,n){let s=e.createURL(im(t)).toString(),i={signal:r};if(n&&Rt(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=eu(n.formData):i.body=n.formData}return new Request(s,i)}function eu(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Kd(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Sw(e,t,r,n,s){let i={},a=null,o,l=!1,u={},c=r&&ot(r[1])?r[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let h=d.route.id,g=t[h];if(Y(!Yr(g),"Cannot handle redirect results in processLoaderData"),ot(g)){let y=g.error;c!==void 0&&(y=c,c=void 0),a=a||{};{let w=Hr(e,h);a[w.route.id]==null&&(a[w.route.id]=y)}i[h]=void 0,l||(l=!0,o=ui(g.error)?g.error.status:500),g.headers&&(u[h]=g.headers)}else _r(g)?(n.set(h,g.deferredData),i[h]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(u[h]=g.headers)):(i[h]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(u[h]=g.headers))}),c!==void 0&&r&&(a={[r[0]]:c},i[r[0]]=void 0),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function Gd(e,t,r,n,s,i,a){let{loaderData:o,errors:l}=Sw(t,r,n,a);return s.forEach(u=>{let{key:c,match:d,controller:h}=u,g=i[c];if(Y(g,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ot(g)){let y=Hr(e.matches,d==null?void 0:d.route.id);l&&l[y.route.id]||(l=pe({},l,{[y.route.id]:g.error})),e.fetchers.delete(c)}else if(Yr(g))Y(!1,"Unhandled fetcher revalidation redirect");else if(_r(g))Y(!1,"Unhandled fetcher deferred data");else{let y=dr(g.data);e.fetchers.set(c,y)}}),{loaderData:o,errors:l}}function Jd(e,t,r,n){let s=pe({},t);for(let i of r){let a=i.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(s[a]=t[a]):e[a]!==void 0&&i.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function Qd(e){return e?ot(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Hr(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Yd(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Xe(e,t){let{pathname:r,routeId:n,method:s,type:i,message:a}=t===void 0?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):e===404?(o="Not Found",l='No route matches URL "'+r+'"'):e===405&&(o="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Va(e||500,o,new Error(l),!0)}function Qi(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Yr(s))return{key:n,result:s}}}function im(e){let t=typeof e=="string"?Ir(e):e;return ln(pe({},t,{hash:""}))}function kw(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ew(e){return am(e.result)&&lw.has(e.result.status)}function _r(e){return e.type===se.deferred}function ot(e){return e.type===se.error}function Yr(e){return(e&&e.type)===se.redirect}function Xd(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function bw(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function am(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function xw(e){return ow.has(e.toLowerCase())}function Rt(e){return iw.has(e.toLowerCase())}async function Cw(e,t,r,n,s){let i=Object.entries(t);for(let a=0;a<i.length;a++){let[o,l]=i[a],u=e.find(h=>(h==null?void 0:h.route.id)===o);if(!u)continue;let c=n.find(h=>h.route.id===u.route.id),d=c!=null&&!nm(c,u)&&(s&&s[u.route.id])!==void 0;_r(l)&&d&&await lc(l,r,!1).then(h=>{h&&(t[o]=h)})}}async function Tw(e,t,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:a}=r[n],o=t[s];e.find(u=>(u==null?void 0:u.route.id)===i)&&_r(o)&&(Y(a,"Expected an AbortController for revalidating fetcher deferred result"),await lc(o,a.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function lc(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:se.data,data:e.deferredData.unwrappedData}}catch(s){return{type:se.error,error:s}}return{type:se.data,data:e.deferredData.data}}}function uc(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ps(e,t){let r=typeof t=="string"?Ir(t).search:t.search;if(e[e.length-1].route.index&&uc(r||""))return e[e.length-1];let n=em(e);return n[n.length-1]}function Zd(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Xo(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jw(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ks(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Rw(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function dr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Pw(e,t){try{let r=e.sessionStorage.getItem(rm);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function Nw(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(rm,JSON.stringify(r))}catch(n){on(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(this,arguments)}const ki=b.createContext(null),cc=b.createContext(null),nr=b.createContext(null),dc=b.createContext(null),sr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),om=b.createContext(null);function Ow(e,t){let{relative:r}=t===void 0?{}:t;as()||Y(!1);let{basename:n,navigator:s}=b.useContext(nr),{hash:i,pathname:a,search:o}=po(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Qt([n,a])),s.createHref({pathname:l,search:o,hash:i})}function as(){return b.useContext(dc)!=null}function os(){return as()||Y(!1),b.useContext(dc).location}function lm(e){b.useContext(nr).static||b.useLayoutEffect(e)}function um(){let{isDataRoute:e}=b.useContext(sr);return e?qw():Aw()}function Aw(){as()||Y(!1);let e=b.useContext(ki),{basename:t,future:r,navigator:n}=b.useContext(nr),{matches:s}=b.useContext(sr),{pathname:i}=os(),a=JSON.stringify(ho(s,r.v7_relativeSplatPath)),o=b.useRef(!1);return lm(()=>{o.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=fo(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Qt([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,i,e])}const Lw=b.createContext(null);function Iw(e){let t=b.useContext(sr).outlet;return t&&b.createElement(Lw.Provider,{value:e},t)}function po(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(nr),{matches:s}=b.useContext(sr),{pathname:i}=os(),a=JSON.stringify(ho(s,n.v7_relativeSplatPath));return b.useMemo(()=>fo(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Dw(e,t,r,n){as()||Y(!1);let{navigator:s}=b.useContext(nr),{matches:i}=b.useContext(sr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=os(),c;c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=Vr(e,{pathname:h});return zw(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Qt([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Qt([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n)}function Uw(){let e=Hw(),t=ui(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const $w=b.createElement(Uw,null);class Mw extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(sr.Provider,{value:this.props.routeContext},b.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fw(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(ki);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(sr.Provider,{value:t},n)}function zw(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Y(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:g}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let g,y=!1,w=null,k=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||$w,l&&(u<0&&h===0?(Kw("route-fallback"),y=!0,k=null):u===h&&(y=!0,k=d.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,h+1)),f=()=>{let v;return g?v=w:y?v=k:d.route.Component?v=b.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,b.createElement(Fw,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(Mw,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var cm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cm||{}),dm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dm||{});function Bw(e){let t=b.useContext(ki);return t||Y(!1),t}function Ww(e){let t=b.useContext(cc);return t||Y(!1),t}function Vw(e){let t=b.useContext(sr);return t||Y(!1),t}function hm(e){let t=Vw(),r=t.matches[t.matches.length-1];return r.route.id||Y(!1),r.route.id}function Hw(){var e;let t=b.useContext(om),r=Ww(),n=hm();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qw(){let{router:e}=Bw(cm.UseNavigateStable),t=hm(dm.UseNavigateStable),r=b.useRef(!1);return lm(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ha({fromRouteId:t},i)))},[e,t])}const eh={};function Kw(e,t,r){eh[e]||(eh[e]=!0)}function Gw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ei(e){let{to:t,replace:r,state:n,relative:s}=e;as()||Y(!1);let{future:i,static:a}=b.useContext(nr),{matches:o}=b.useContext(sr),{pathname:l}=os(),u=um(),c=fo(t,ho(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Jw(e){return Iw(e.context)}function Qw(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ce.Pop,navigator:i,static:a=!1,future:o}=e;as()&&Y(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:a,future:Ha({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=Ir(n));let{pathname:c="/",search:d="",hash:h="",state:g=null,key:y="default"}=n,w=b.useMemo(()=>{let k=tr(c,l);return k==null?null:{location:{pathname:k,search:d,hash:h,state:g,key:y},navigationType:s}},[l,c,d,h,g,y,s]);return w==null?null:b.createElement(nr.Provider,{value:u},b.createElement(dc.Provider,{children:r,value:w}))}new Promise(()=>{});function Yw(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function fm(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Xw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zw(e,t){return e.button===0&&(!t||t==="_self")&&!Xw(e)}const e0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],r0="6";try{window.__reactRouterVersion=r0}catch{}function n0(e,t){return hw({basename:t==null?void 0:t.basename,future:ts({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Iy({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||s0(),routes:e,mapRouteProperties:Yw,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function s0(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ts({},t,{errors:i0(t.errors)})),t}function i0(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Va(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const pm=b.createContext({isTransitioning:!1}),a0=b.createContext(new Map),o0="startTransition",th=yg[o0],l0="flushSync",rh=Py[l0];function u0(e){th?th(e):e()}function Es(e){rh?rh(e):e()}let c0=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function d0(e){let{fallbackElement:t,router:r,future:n}=e,[s,i]=b.useState(r.state),[a,o]=b.useState(),[l,u]=b.useState({isTransitioning:!1}),[c,d]=b.useState(),[h,g]=b.useState(),[y,w]=b.useState(),k=b.useRef(new Map),{v7_startTransition:p}=n||{},f=b.useCallback(j=>{p?u0(j):j()},[p]),v=b.useCallback((j,M)=>{let{deletedFetchers:A,flushSync:I,viewTransitionOpts:G}=M;j.fetchers.forEach((Re,kt)=>{Re.data!==void 0&&k.current.set(kt,Re.data)}),A.forEach(Re=>k.current.delete(Re));let Z=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!G||Z){I?Es(()=>i(j)):f(()=>i(j));return}if(I){Es(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let Re=r.window.document.startViewTransition(()=>{Es(()=>i(j))});Re.finished.finally(()=>{Es(()=>{d(void 0),g(void 0),o(void 0),u({isTransitioning:!1})})}),Es(()=>g(Re));return}h?(c&&c.resolve(),h.skipTransition(),w({state:j,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(o(j),u({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[r.window,h,c,k,f]);b.useLayoutEffect(()=>r.subscribe(v),[r,v]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new c0)},[l]),b.useEffect(()=>{if(c&&a&&r.window){let j=a,M=c.promise,A=r.window.document.startViewTransition(async()=>{f(()=>i(j)),await M});A.finished.finally(()=>{d(void 0),g(void 0),o(void 0),u({isTransitioning:!1})}),g(A)}},[f,a,c,r.window]),b.useEffect(()=>{c&&a&&s.location.key===a.location.key&&c.resolve()},[c,h,s.location,a]),b.useEffect(()=>{!l.isTransitioning&&y&&(o(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),w(void 0))},[l.isTransitioning,y]),b.useEffect(()=>{},[]);let E=b.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:j=>r.navigate(j),push:(j,M,A)=>r.navigate(j,{state:M,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(j,M,A)=>r.navigate(j,{replace:!0,state:M,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[r]),T=r.basename||"/",R=b.useMemo(()=>({router:r,navigator:E,static:!1,basename:T}),[r,E,T]),S=b.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return b.useEffect(()=>Gw(n,r.future),[n,r.future]),b.createElement(b.Fragment,null,b.createElement(ki.Provider,{value:R},b.createElement(cc.Provider,{value:s},b.createElement(a0.Provider,{value:k.current},b.createElement(pm.Provider,{value:l},b.createElement(Qw,{basename:T,location:s.location,navigationType:s.historyAction,navigator:E,future:S},s.initialized||r.future.v7_partialHydration?b.createElement(h0,{routes:r.routes,future:r.future,state:s}):t))))),null)}const h0=b.memo(f0);function f0(e){let{routes:t,future:r,state:n}=e;return Dw(t,void 0,n,r)}const p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=fm(t,e0),{basename:g}=b.useContext(nr),y,w=!1;if(typeof u=="string"&&m0.test(u)&&(y=u,p0))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),T=tr(E.pathname,g);E.origin===v.origin&&T!=null?u=T+E.search+E.hash:w=!0}catch{}let k=Ow(u,{relative:s}),p=v0(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d});function f(v){n&&n(v),v.defaultPrevented||p(v)}return b.createElement("a",ts({},h,{href:y||k,onClick:w||i?n:f,ref:r,target:l}))}),nh=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:u,children:c}=t,d=fm(t,t0),h=po(l,{relative:d.relative}),g=os(),y=b.useContext(cc),{navigator:w,basename:k}=b.useContext(nr),p=y!=null&&y0(h)&&u===!0,f=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(v=v.toLowerCase(),E=E?E.toLowerCase():null,f=f.toLowerCase()),E&&k&&(E=tr(E,k)||E);const T=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let R=v===f||!a&&v.startsWith(f)&&v.charAt(T)==="/",S=E!=null&&(E===f||!a&&E.startsWith(f)&&E.charAt(f.length)==="/"),j={isActive:R,isPending:S,isTransitioning:p},M=R?n:void 0,A;typeof i=="function"?A=i(j):A=[i,R?"active":null,S?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(j):o;return b.createElement(Rr,ts({},d,{"aria-current":M,className:A,ref:r,style:I,to:l,viewTransition:u}),typeof c=="function"?c(j):c)});var tu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tu||(tu={}));var sh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sh||(sh={}));function g0(e){let t=b.useContext(ki);return t||Y(!1),t}function v0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=um(),u=os(),c=po(e,{relative:a});return b.useCallback(d=>{if(Zw(d,r)){d.preventDefault();let h=n!==void 0?n:ln(u)===ln(c);l(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,c,n,s,r,e,i,a,o])}function y0(e,t){t===void 0&&(t={});let r=b.useContext(pm);r==null&&Y(!1);let{basename:n}=g0(tu.useViewTransitionState),s=po(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=tr(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=tr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wa(s.pathname,a)!=null||Wa(s.pathname,i)!=null}function mo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function w0(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const _0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class hc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class S0 extends hc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ih extends hc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ah extends hc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ru;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ru||(ru={}));class k0{constructor(t,{headers:r={},customFetch:n,region:s=ru.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=_0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return w0(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:g}=n;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let k=c;d&&(a=new AbortController,i=setTimeout(()=>a.abort(),d),c?(k=a.signal,c.addEventListener("abort",()=>a.abort())):k=a.signal);const p=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:w,signal:k}).catch(T=>{throw new S0(T)}),f=p.headers.get("x-relay-error");if(f&&f==="true")throw new ih(p);if(!p.ok)throw new ah(p);let v=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return v==="application/json"?E=yield p.json():v==="application/octet-stream"||v==="application/pdf"?E=yield p.blob():v==="text/event-stream"?E=p:v==="multipart/form-data"?E=yield p.formData():E=yield p.text(),{data:E,error:null,response:p}}catch(o){return{data:null,error:o,response:o instanceof ah||o instanceof ih?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var E0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},b0=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var g;const p=await i.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=p:o=JSON.parse(p))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&k&&k.length>1&&(l=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&r.shouldThrowOnError)throw new E0(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const c=i==null?void 0:i.cause;if(c){var d,h,g,y;const p=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",f=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";o=`${(g=i==null?void 0:i.name)!==null&&g!==void 0?g:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"Error"}: ${p}`,f&&(o+=` (${f})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const k=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(l+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},x0=class extends b0{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const oh=new RegExp("[,()]");var xn=class extends x0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&oh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&oh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},C0=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new xn({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new xn({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new xn({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new xn({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new xn({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function T0(e,t){if(ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j0(e){var t=T0(e,"string");return ci(t)=="symbol"?t:t+""}function R0(e,t,r){return(t=j0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lh(Object(r),!0).forEach(function(n){R0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var P0=class mm{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),o(l,u);const g=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",g,{once:!0}),o(l,Yi(Yi({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",g)})}return o(l,Yi(Yi({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new C0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new mm(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(c)),d=n&&Object.values(r).some(c);d?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{l.searchParams.append(g,y)})):(o="POST",u=r);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new xn({method:o,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class N0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const O0="2.97.0",A0=`realtime-js/${O0}`,L0="1.0.0",gm="2.0.0",uh=gm,nu=1e4,I0=1e3,D0=100;var pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pr||(pr={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var Pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pt||(Pt={}));var su;(function(e){e.websocket="websocket"})(su||(su={}));var qr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qr||(qr={}));class U0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(g),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,d.length),y.setUint8(w++,r),Array.from(l,p=>y.setUint8(w++,p.charCodeAt(0))),Array.from(o,p=>y.setUint8(w++,p.charCodeAt(0))),Array.from(a,p=>y.setUint8(w++,p.charCodeAt(0))),Array.from(u,p=>y.setUint8(w++,p.charCodeAt(0))),Array.from(d,p=>y.setUint8(w++,p.charCodeAt(0)));var k=new Uint8Array(g.byteLength+n.byteLength);return k.set(new Uint8Array(g),0),k.set(new Uint8Array(n),g.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),g=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:g};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class vm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ce||(ce={}));const ch=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=$0(a,e,t,s),i),{}):{}},$0=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ym(i,a):iu(a)},ym=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return B0(t,r)}switch(e){case ce.bool:return M0(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return F0(t);case ce.json:case ce.jsonb:return z0(t);case ce.timestamp:return W0(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return iu(t);default:return iu(t)}},iu=e=>e,M0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},z0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},B0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ym(t,o))}return e},W0=e=>typeof e=="string"?e.replace(" ","T"):e,wm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Zo{constructor(t,r,n={},s=nu){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dh||(dh={}));class Bs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Bs.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bs.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const h=c.map(k=>k.presence_ref),g=d.map(k=>k.presence_ref),y=c.filter(k=>g.indexOf(k.presence_ref)<0),w=d.filter(k=>h.indexOf(k.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);t[o].unshift(...h)}n(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hh||(hh={}));var Ws;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ws||(Ws={}));var Ht;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ht||(Ht={}));class Fn{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zo(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new vm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Bs(this),this.broadcastEndpointURL=wm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Ht.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Ht.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Ht.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,p=[];for(let f=0;f<k;f++){const v=w[f],{filter:{event:E,schema:T,table:R,filter:S}}=v,j=g&&g[f];if(j&&j.event===E&&Fn.isFilterValueEqual(j.schema,T)&&Fn.isFilterValueEqual(j.table,R)&&Fn.isFilterValueEqual(j.filter,S))p.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Ht.SUBSCRIBED);return}}).receive("error",g=>{this.state=Pe.errored,t==null||t(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pe.joined&&t===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zo(this,Pt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zo(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>D0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Pt;if(n&&[o,l,u,c].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,w,k;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(w=g.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var y,w,k,p,f,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const E=g.id,T=(y=g.filter)===null||y===void 0?void 0:y.event;return E&&((w=r.ids)===null||w===void 0?void 0:w.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(f=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return E==="*"||E===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:k,commit_timestamp:p,type:f,errors:v}=y;h=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:p,eventType:f,new:{},old:{},errors:v}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fn.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pt.close,{},t)}_onError(t){this._on(Pt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ch(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ch(t.columns,t.old_record)),r}}const el=()=>{},Xi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},V0=[1e3,2e3,5e3,1e4],H0=1e4,q0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K0{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nu,this.transport=null,this.heartbeatIntervalMs=Xi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=el,this.ref=0,this.reconnectTimer=null,this.vsn=uh,this.logger=el,this.conn=null,this.sendBuffer=[],this.serializer=new U0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${su.websocket}`,this.httpEndpoint=wm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pr.connecting:return qr.Connecting;case pr.open:return qr.Open;case pr.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Fn(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(I0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===pr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===pr.open||this.conn.readyState===pr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([q0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:A0};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Pt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u,c,d,h,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:nu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Xi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:el,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:uh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>V0[y-1]||H0,this.vsn){case L0:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case gm:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var di=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function G0(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function J0(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Q0(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=G0(e.baseUrl,n,s),l=await J0(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const g=d?h:void 0,y=g==null?void 0:g.error;throw new di((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Zi(e){return e.join("")}var Y0=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Zi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zi(e.namespace)}`}),!0}catch(t){if(t instanceof di&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof di&&r.status===409)return;throw r}}};function wn(e){return e.join("")}var X0=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wn(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof di&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof di&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Z0=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Q0({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Y0(this.client,t),this.tableOps=new X0(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},go=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function vo(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ea=class extends go{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_m=class extends go{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const e_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),t_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},au=e=>{if(Array.isArray(e))return e.map(r=>au(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=au(n)}),t},r_=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function hi(e){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(e)}function n_(e,t){if(hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s_(e){var t=n_(e,"string");return hi(t)=="symbol"?t:t+""}function i_(e,t,r){return(t=s_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fh(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ph=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},a_=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new ea(ph(a),i,o,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new ea(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new ea(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new ea(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new _m(ph(e),e,n))},o_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?V(V({},s),r):(t_(n)?(s.headers=V({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),V(V({},s),r))};async function bs(e,t,r,n,s,i,a){return new Promise((o,l)=>{e(r,o_(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>a_(u,l,n,a))})}function Sm(e="storage"){return{get:async(t,r,n,s)=>bs(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>bs(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>bs(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>bs(t,"HEAD",r,V(V({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>bs(t,"DELETE",r,s,i,n,e)}}const l_=Sm("storage"),{get:fi,post:Tt,put:ou,head:u_,remove:fc}=l_,lt=Sm("vectors");var ls=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=e_(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=V(V({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vo(r))return{data:null,error:r};throw r}}},c_=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(vo(t))return{data:null,error:t};throw t}}};let km;km=Symbol.toStringTag;var d_=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[km]="BlobDownloadBuilder",this.promise=null}asStream(){return new c_(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(vo(t))return{data:null,error:t};throw t}}};const h_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var f_=class extends ls{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=V(V({},mh),n);let o=V(V({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=V(V({},o),n.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?ou:Tt)(s.fetch,`${s.url}/object/${c}`,i,V({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=V({upsert:mh.upsert},n),c=V(V({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await ou(s.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=V({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Tt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new go("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Tt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Tt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Tt(n.fetch,`${n.url}/object/sign/${s}`,V({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Tt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>V(V({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),o=()=>fi(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new d_(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>au(await fi(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await u_(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(vo(n)&&n instanceof _m){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await fc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=V(V(V({},h_),t),{},{prefix:e||""});return await Tt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=V({},e);return await Tt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const p_="2.97.0",bi={"X-Client-Info":`storage-js/${p_}`};var m_=class extends ls{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=V(V({},bi),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await fi(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await fi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Tt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ou(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Tt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await fc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},g_=class extends ls{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=V(V({},bi),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Tt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await fi(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await fc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!r_(e))throw new go("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Z0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},v_=class extends ls{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=V(V({},bi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await lt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await lt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},y_=class extends ls{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=V(V({},bi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},w_=class extends ls{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=V(V({},bi),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},__=class extends w_{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new S_(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},S_=class extends v_{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new k_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},k_=class extends y_{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},E_=class extends m_{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new f_(this.url,this.headers,e,this.fetch)}get vectors(){return new __(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g_(this.url+"/iceberg",this.headers,this.fetch)}};const Em="2.97.0",Cn=30*1e3,lu=3,tl=lu*Cn,b_="http://localhost:9999",x_="supabase.auth.token",C_={"X-Client-Info":`gotrue-js/${Em}`},uu="X-Supabase-Api-Version",bm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j_=10*60*1e3;class pi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class R_ extends pi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function P_(e){return z(e)&&e.name==="AuthApiError"}class Kr extends pi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ir extends pi{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class it extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rl(e){return z(e)&&e.name==="AuthSessionMissingError"}class _n extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ta extends ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ra extends ir{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N_(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class gh extends ir{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O_ extends ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cu extends ir{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function nl(e){return z(e)&&e.name==="AuthRetryableFetchError"}class vh extends ir{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class du extends ir{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yh=` 	
\r=`.split(""),A_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yh.length;t+=1)e[yh[t].charCodeAt(0)]=-2;for(let t=0;t<qa.length;t+=1)e[qa[t].charCodeAt(0)]=t;return e})();function wh(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qa[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qa[n]),t.queuedBits-=6}}function xm(e,t,r){const n=A_[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _h(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{D_(a,n,r)};for(let a=0;a<e.length;a+=1)xm(e.charCodeAt(a),s,i);return t.join("")}function L_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function I_(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}L_(n,t)}}function D_(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Kn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function U_(e){const t=[];return I_(e,r=>t.push(r)),new Uint8Array(t)}function Xr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>wh(s,r,n)),wh(null,r,n),t.join("")}function $_(e){return Math.round(Date.now()/1e3)+e}function M_(){return Symbol("auth-callback")}const Ue=()=>typeof window<"u"&&typeof document<"u",Mr={tested:!1,writable:!1},Cm=()=>{if(!Ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mr.tested)return Mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mr.tested=!0,Mr.writable=!0}catch{Mr.tested=!0,Mr.writable=!1}return Mr.writable};function F_(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Tm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},De=async(e,t)=>{await e.removeItem(t)};class yo{constructor(){this.promise=new yo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yo.promiseConstructor=Promise;function na(e){const t=e.split(".");if(t.length!==3)throw new du("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!T_.test(t[n]))throw new du("JWT not in base64url format");return{header:JSON.parse(_h(t[0])),payload:JSON.parse(_h(t[1])),signature:Kn(t[2]),raw:{header:t[0],payload:t[1]}}}async function B_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function V_(e){return("0"+e.toString(16)).substr(-2)}function H_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,V_).join("")}async function q_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function K_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await q_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sn(e,t,r=!1){const n=H_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Tn(e,`${t}-code-verifier`,s);const i=await K_(n);return[i,n===i?"plain":"s256"]}const G_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J_(e){const t=e.headers.get(uu);if(!t||!t.match(G_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Y_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const X_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kn(e){if(!X_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z_(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Sh(e){return JSON.parse(JSON.stringify(e))}const Wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eS=[502,503,504];async function kh(e){var t;if(!z_(e))throw new cu(Wr(e),0);if(eS.includes(e.status))throw new cu(Wr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Kr(Wr(i),i)}let n;const s=J_(e);if(s&&s.getTime()>=bm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vh(Wr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new it}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new vh(Wr(r),e.status,r.weak_password.reasons);throw new R_(Wr(r),e.status||500,n)}const tS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function H(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[uu]||(i[uu]=bm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await rS(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function rS(e,t,r,n,s,i){const a=tS(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new cu(Wr(l),0)}if(o.ok||await kh(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await kh(l)}}function xt(e){var t;let r=null;iS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$_(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Eh(e){const t=xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nS(e){return{data:e,error:null}}function sS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=mo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function bh(e){return e}function iS(e){return e.access_token&&e.refresh_token&&e.expires_in}const il=["global","local","others"];class aS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Tm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=il[0]){if(il.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${il.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=mo(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vr})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bh});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){kn(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vr})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){kn(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){kn(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){kn(t.userId);try{const{data:r,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){kn(t.userId),kn(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bh});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await H(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await H(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await H(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}}function xh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const En={debug:!!(globalThis&&Cm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ch extends jm{}async function oS(e,t,r){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ch(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(En.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new Ch(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function lS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uS(e){return parseInt(e,16)}function cS(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dS(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=Rm(e.address),y=c?`${c}://${n}`:n,w=e.statement?`${e.statement}
`:"",k=`${y} wants you to sign in with your Ethereum account:
${g}

${w}`;let p=`URI: ${d}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),o&&(p+=`
Not Before: ${o.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);f+=`
- ${v}`}p+=f}return`${k}
${p}`}class Te extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ka extends Te{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function hS({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Te({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Pm(a)){if(i.rp.id!==a)return new Te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fS({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Te({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Pm(n)){if(r.rpId!==n)return new Te({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class pS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mS=new pS;function gS(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=mo(e,["challenge","user","excludeCredentials"]),i=Kn(t).buffer,a=Object.assign(Object.assign({},r),{id:Kn(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Kn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function vS(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=mo(e,["challenge","allowCredentials"]),s=Kn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Kn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function yS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xr(new Uint8Array(s.authenticatorData)),clientDataJSON:Xr(new Uint8Array(s.clientDataJSON)),signature:Xr(new Uint8Array(s.signature)),userHandle:s.userHandle?Xr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Th(){var e,t;return!!(Ue()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _S(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",t)}:{data:null,error:new Ka("Empty credential response",t)}}catch(t){return{data:null,error:hS({error:t,options:e})}}}async function SS(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",t)}:{data:null,error:new Ka("Empty credential response",t)}}catch(t){return{data:null,error:fS({error:t,options:e})}}}const kS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ES={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ga(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=Ga(o,a):n[i]=Ga(a)}else n[i]=a}return n}function bS(e,t){return Ga(kS,e,t||{})}function xS(e,t){return Ga(ES,e,t||{})}class CS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const u=s??mS.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const d=n;if(d)c.name=`${c.id}:${d}`;else{const g=(await this.client.getUser()).data.user,y=((a=g==null?void 0:g.user_metadata)===null||a===void 0?void 0:a.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";c.name=`${c.id}:${y}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=bS(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await _S({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=xS(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await SS(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new Kr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new pi("rpId is required for WebAuthn authentication")};try{if(!Th())return{data:null,error:new Kr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return z(a)?{data:null,error:a}:{data:null,error:new Kr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new pi("rpId is required for WebAuthn registration")};try{if(!Th())return{data:null,error:new Kr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return z(a)?{data:null,error:a}:{data:null,error:new Kr("Unexpected error in register",a)}}}}lS();const TS={url:b_,storageKey:x_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function jh(e,t,r){return await r()}const bn={};class mi{get jwks(){var t,r;return(r=(t=bn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},TS),t);if(this.storageKey=i.storageKey,this.instanceID=(r=mi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ue()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new aS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Tm(i.fetch),this.lock=i.lock||jh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ue()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oS:this.lock=jh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Cm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=xh(this.memoryStorage)),Ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}i.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Em}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ue()&&(r=F_(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ue()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),N_(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?this._returnResult({error:r}):this._returnResult({error:new Kr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Sn(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:xt})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xt})}else throw new ta("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await De(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Eh})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Eh})}else throw new ta("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new _n;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,u,c,d,h;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:w,wallet:k,statement:p,options:f}=t;let v;if(Ue())if(typeof k=="object")v=k;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")v=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=k}const E=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),T=await v.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Rm(T[0]);let S=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const M=await v.request({method:"eth_chainId"});S=uS(M)}const j={domain:E.host,address:R,statement:p,uri:E.href,version:"1",chainId:S,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=dS(j),y=await v.request({method:"personal_sign",params:[cS(g),R]})}try{const{data:w,error:k}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xt});if(k)throw k;if(!w||!w.session||!w.user){const p=new _n;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(z(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,o,l,u,c,d,h,g;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:k,wallet:p,statement:f,options:v}=t;let E;if(Ue())if(typeof p=="object")E=p;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))E=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=p}const T=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const R=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),f?{statement:f}:null));let S;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")S=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)S=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const R=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=R}}try{const{data:k,error:p}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Xr(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:xt});if(p)throw p;if(!k||!k.session||!k.user){const f=new _n;return this._returnResult({data:{user:null,session:null},error:f})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:p})}catch(k){if(z(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Fr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new O_;const{data:i,error:a}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xt});if(await De(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new _n;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new _n;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Sn(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new ta("You must provide either an email or phone number.")}catch(o){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Sn(this.storage,this.storageKey));const u=await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:nS});return!((i=u.data)===null||i===void 0)&&i.url&&Ue()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new it;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(z(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new ta("You must provide either an email or phone number and a type")}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<tl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Fr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=sl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Z_(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new it}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vr})})}catch(r){if(z(r))return rl(r)&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new it;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Sn(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:vr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new it;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=na(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new it;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ue())throw new ra("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ra(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ra("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gh("No code detected.");const{data:f,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new ra("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(z(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!rl(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(P_(o)&&(o.status===404||o.status===401||o.status===403)||rl(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=M_(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Sn(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ue()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(z(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=t,d=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xt}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new _n}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(s){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await W_(async s=>(s>0&&await B_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&nl(i)&&Date.now()+a-n<Cn})}catch(n){if(this._debug(r,"error",n),z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ue()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Fr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Fr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Tn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:sl()}else if(s&&!s.user&&!s.user){const a=await Fr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await De(this.storage,this.storageKey+"-user"),await Tn(this.storage,this.storageKey,s)):s.user=sl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<tl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${tl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),nl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new it;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yo;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new it;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),z(i)){const a={data:null,error:i};return nl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await De(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Sh(s);await Tn(this.storage,this.storageKey,i)}else{const s=Sh(r);await Tn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await De(this.storage,this.storageKey),await De(this.storage,this.storageKey+"-code-verifier"),await De(this.storage,this.storageKey+"-user"),this.userStorage&&await De(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cn}ms, refresh threshold is ${lu} ticks`),s<=lu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Sn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yS(t.webauthn.credential_response):wS(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:gS(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:vS(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:g}=na(t);let y=null;g.aal&&(y=g.aal);let w=y;const{data:{user:k},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((n=(r=k==null?void 0:k.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const v=g.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:v},error:null}}catch(g){if(z(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=na(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await H(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new it})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new it});const a=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ue()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new it});const a=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ue()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await H(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new it})})}catch(t){if(z(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await H(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new it})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+j_>s)return n;const{data:i,error:a}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=na(n);r!=null&&r.allowExpired||Q_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const c=Y_(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,U_(`${o}.${l}`)))throw new du("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}}mi.nextInstanceID={};const jS=mi,RS="2.97.0";let Ns="";typeof Deno<"u"?Ns="deno":typeof document<"u"?Ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const PS={"X-Client-Info":`supabase-js-${Ns}/${RS}`},NS={headers:PS},OS={schema:"public"},AS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LS={};function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function IS(e,t){if(gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DS(e){var t=IS(e,"string");return gi(t)=="symbol"?t:t+""}function US(e,t,r){return(t=DS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(r),!0).forEach(function(n){US(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const $S=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MS=()=>Headers,FS=(e,t,r)=>{const n=$S(r),s=MS();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,ke(ke({},a),{},{headers:u}))}};function zS(e){return e.endsWith("/")?e:e+"/"}function BS(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:ke(ke({},l),s),auth:ke(ke({},u),i),realtime:ke(ke({},c),a),storage:{},global:ke(ke(ke({},d),o),{},{headers:ke(ke({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function WS(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var VS=class extends jS{constructor(e){super(e)}},HS=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=WS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:OS,realtime:LS,auth:ke(ke({},AS),{},{storageKey:a}),global:NS},l=BS(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=FS(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new P0(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new E_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new k0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VS({url:this.authUrl.href,headers:ke(ke({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new K0(this.realtimeUrl.href,ke(ke({},e),{},{params:ke(ke({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qS=(e,t,r)=>new HS(e,t,r);function KS(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}KS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xi={supabaseUrl:"https://zkkkwtpdoejtmburrfsm.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpra2t3dHBkb2VqdG1idXJyZnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMjI2OTYsImV4cCI6MjA4NzU5ODY5Nn0.uviGE8OePxg7Y2ntnET4KhLS1Xukh33HI_4jy_v9ViU",baseUrl:"/madfood/"},GS=!!xi.supabaseAnonKey,JS=xi.supabaseUrl,QS=xi.supabaseAnonKey,le=qS(JS,QS,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Nm=b.createContext(void 0),YS=({children:e})=>{var l;const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{let u=!0;(async()=>{const{data:h}=await le.auth.getSession();u&&(r(h.session),a(!1))})();const{data:{subscription:d}}=le.auth.onAuthStateChange((h,g)=>{r(g),a(!1)});return()=>{u=!1,d.unsubscribe()}},[]),b.useEffect(()=>{let u=!0;const c=async d=>{var y;const{data:h,error:g}=await le.from("profiles").select("display_name").eq("id",d).maybeSingle();if(u){if(g){s(null);return}s(((y=h==null?void 0:h.display_name)==null?void 0:y.trim())||null)}};return t!=null&&t.user?(c(t.user.id),()=>{u=!1}):(s(null),()=>{u=!1})},[(l=t==null?void 0:t.user)==null?void 0:l.id]);const o=b.useMemo(()=>({session:t,user:(t==null?void 0:t.user)??null,displayName:n,loading:i}),[n,i,t]);return m.jsx(Nm.Provider,{value:o,children:e})},dn=()=>{const e=b.useContext(Nm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},hn=({label:e="Loading..."})=>m.jsxs("div",{className:"loading-wrap",role:"status","aria-live":"polite",children:[m.jsx("div",{className:"spinner"}),m.jsx("span",{children:e})]}),ve=({children:e,className:t,variant:r="primary",loading:n=!1,disabled:s,...i})=>{const a=["btn",`btn-${r}`,t].filter(Boolean).join(" ");return m.jsx("button",{className:a,disabled:s||n,...i,children:n?"Working...":e})},It=({children:e,className:t,...r})=>m.jsx("div",{className:["card",t].filter(Boolean).join(" "),...r,children:e}),rs=({id:e,label:t,error:r,className:n,...s})=>m.jsxs("label",{className:"field",htmlFor:e,children:[t?m.jsx("span",{className:"field-label",children:t}):null,m.jsx("input",{id:e,className:["input",n].filter(Boolean).join(" "),...s}),r?m.jsx("span",{className:"field-error",children:r}):null]}),XS=e=>/Android|iPhone|iPad|iPod/i.test(e),Ph=["#f7accd","#f28ab8","#ec6da7","#f9c6de","#ffdfec"],Om=({className:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(null),[u,c]=b.useState(!1),[d,h]=b.useState(0),g=b.useRef(null),y=typeof window>"u"?"":window.navigator.userAgent,w=b.useMemo(()=>XS(y),[y]),k=b.useMemo(()=>Array.from({length:34},(v,E)=>({left:E*17%100,size:8+E%4*3,delay:E%8*65,duration:1800+E%6*220,drift:(E%7-3)*18,rotate:E*37%360,color:Ph[E%Ph.length],round:E%3===0})),[]);b.useEffect(()=>{if(!w)return;const v=()=>{const R=window.matchMedia("(display-mode: standalone)").matches,S=window.navigator.standalone===!0;s(R||S)},E=R=>{R.preventDefault(),r(R)},T=()=>{r(null),s(!0),l("MadFood is installed on your device.")};return v(),window.addEventListener("beforeinstallprompt",E),window.addEventListener("appinstalled",T),()=>{window.removeEventListener("beforeinstallprompt",E),window.removeEventListener("appinstalled",T)}},[w]),b.useEffect(()=>()=>{g.current&&window.clearTimeout(g.current)},[]);const p=()=>{h(v=>v+1),c(!0),g.current&&window.clearTimeout(g.current),g.current=window.setTimeout(()=>c(!1),3200)},f=async()=>{if(p(),!!t){a(!0),l(null);try{await t.prompt(),(await t.userChoice).outcome==="accepted"?l("Install started. You can open MadFood from your home screen."):l("Install dismissed. You can try again anytime.")}finally{r(null),a(!1)}}};return!w||n?null:m.jsxs(It,{className:["max-w-620",e].filter(Boolean).join(" "),children:[m.jsxs("div",{className:"stack",children:[m.jsx("div",{className:"section-head mb-0",children:m.jsx("h2",{children:"Install MadFood"})}),m.jsx("div",{className:"inline-row",children:m.jsx(ve,{type:"button",className:"btn-install-cute",onClick:f,loading:i,children:"Install on my phone"})}),o?m.jsx("p",{className:"help-text",children:o}):null]}),u?m.jsx("div",{className:"confetti-rain","aria-hidden":"true",children:k.map((v,E)=>m.jsx("span",{className:["confetti-piece",v.round?"round":""].filter(Boolean).join(" "),style:{left:`${v.left}%`,width:`${v.size}px`,height:`${v.round?v.size:v.size+4}px`,animationDuration:`${v.duration}ms`,animationDelay:`${v.delay}ms`,backgroundColor:v.color,transform:`translateX(0) rotate(${v.rotate}deg)`,"--confetti-drift":`${v.drift}px`}},`confetti-${E}`))},d):null]})},ZS=async(e,t)=>{const{error:r}=await le.auth.signInWithPassword({email:e,password:t});if(r)throw r},ek=async(e,t)=>{const r=`${window.location.origin}${xi.baseUrl}dashboard`,{error:n}=await le.auth.signUp({email:e,password:t,options:{emailRedirectTo:r}});if(n)throw n},tk=async e=>{const t=`${window.location.origin}${xi.baseUrl}update-password`,{error:r}=await le.auth.resetPasswordForEmail(e,{redirectTo:t});if(r)throw r},rk=async e=>{const{error:t}=await le.auth.updateUser({password:e});if(t)throw t},nk=async()=>{const{error:e}=await le.auth.signOut();if(e)throw e},sk=()=>{const{displayName:e,user:t}=dn(),[r,n]=b.useState("login"),[s,i]=b.useState(""),[a,o]=b.useState(""),[l,u]=b.useState(!1),[c,d]=b.useState(null),[h,g]=b.useState(null);if(t)return m.jsx(Ei,{to:"/dashboard",replace:!0});const y=e?`Welcome back, ${e}`:"Welcome to MadFood",w=e?"Sign in to continue your meals, recipes, and shopping lists.":"Meal planning, recipes, and shopping lists in one place.",k=async p=>{p.preventDefault(),d(null),g(null),u(!0);try{r==="login"?await ZS(s,a):(await ek(s,a),i(""),o(""),g("Account created. Check your email if confirmation is enabled."))}catch(f){d(f.message??"Authentication failed")}finally{u(!1)}};return m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:y}),m.jsx("p",{className:"page-subtitle",children:w})]}),GS?null:m.jsx(It,{className:"mb-1",children:m.jsx("p",{className:"error-text",children:"Add `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY` in `.env.local` to use auth."})}),m.jsx(Om,{className:"mb-1"}),m.jsx(It,{className:"max-w-520",children:m.jsxs("form",{className:"stack",onSubmit:k,children:[m.jsxs("div",{className:"section-head mb-0",children:[m.jsx("h2",{children:r==="login"?"Log in":"Create account"}),m.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(p=>p==="login"?"signup":"login"),children:r==="login"?"Need an account?":"Have an account?"})]}),m.jsx(rs,{id:"email",label:"Email",type:"email",value:s,onChange:p=>i(p.target.value),required:!0,autoComplete:"email"}),m.jsx(rs,{id:"password",label:"Password",type:"password",value:a,onChange:p=>o(p.target.value),required:!0,minLength:6,autoComplete:r==="login"?"current-password":"new-password"}),c?m.jsx("p",{className:"error-text",children:c}):null,h?m.jsx("p",{className:"help-text",children:h}):null,m.jsxs("div",{className:"inline-row",children:[m.jsx(ve,{type:"submit",loading:l,children:r==="login"?"Log in":"Sign up"}),m.jsx(Rr,{to:"/reset-password",className:"muted",children:"Forgot password?"})]})]})})]})},ik=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(!1),[s,i]=b.useState(null),[a,o]=b.useState(null),l=async u=>{u.preventDefault(),n(!0),i(null),o(null);try{await tk(e),o("Password reset email sent. Check your inbox.")}catch(c){i(c.message??"Failed to send reset email")}finally{n(!1)}};return m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Reset password"}),m.jsx("p",{className:"page-subtitle",children:"Send yourself a secure password reset email."})]}),m.jsx(It,{className:"max-w-520",children:m.jsxs("form",{className:"stack",onSubmit:l,children:[m.jsx(rs,{id:"reset-email",label:"Email",type:"email",value:e,onChange:u=>t(u.target.value),required:!0}),s?m.jsx("p",{className:"error-text",children:s}):null,a?m.jsx("p",{className:"help-text",children:a}):null,m.jsxs("div",{className:"inline-row",children:[m.jsx(ve,{type:"submit",loading:r,children:"Send reset email"}),m.jsx(Rr,{to:"/login",className:"muted",children:"Back to login"})]})]})})]})},ak=()=>{const{user:e,loading:t}=dn(),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,o]=b.useState(!1),[l,u]=b.useState(null),[c,d]=b.useState(null);if(t)return m.jsx("div",{className:"container",children:m.jsx(hn,{label:"Loading account..."})});if(!e)return m.jsx(Ei,{to:"/login",replace:!0});const h=async g=>{if(g.preventDefault(),o(!0),u(null),d(null),r!==s){u("Passwords do not match"),o(!1);return}try{await rk(r),d("Password updated successfully."),n(""),i("")}catch(y){u(y.message??"Failed to update password")}finally{o(!1)}};return m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Set new password"}),m.jsx("p",{className:"page-subtitle",children:"Choose a new password for your account."})]}),m.jsx(It,{className:"max-w-520",children:m.jsxs("form",{className:"stack",onSubmit:h,children:[m.jsx(rs,{id:"new-password",label:"New password",type:"password",value:r,onChange:g=>n(g.target.value),required:!0,minLength:6}),m.jsx(rs,{id:"confirm-password",label:"Confirm password",type:"password",value:s,onChange:g=>i(g.target.value),required:!0,minLength:6}),l?m.jsx("p",{className:"error-text",children:l}):null,c?m.jsx("p",{className:"help-text",children:c}):null,m.jsxs("div",{className:"inline-row",children:[m.jsx(ve,{type:"submit",loading:a,children:"Update password"}),m.jsx(Rr,{to:"/settings",className:"muted",children:"Back to settings"})]})]})})]})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Am=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},l)=>b.createElement("svg",{ref:l,...lk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Am("lucide",s),...o},[...a.map(([u,c])=>b.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=(e,t)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(uk,{ref:i,iconNode:t,className:Am(`lucide-${ok(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=wo("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=wo("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=wo("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=wo("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nh=["January","February","March","April","May","June","July","August","September","October","November","December"],Oh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pk=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],mk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ah=e=>String(e).padStart(2,"0"),Vs=e=>new Date(e.getFullYear(),e.getMonth(),1),Lm=e=>new Date(e.getFullYear(),e.getMonth()+1,0),Im=(e,t)=>{const r=new Date(e);return r.setMonth(r.getMonth()+t),r},gk=(e,t)=>Im(e,-1),vk=e=>e.getMonth(),yk=e=>e.getFullYear(),wk=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth(),_k=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),Sk=({start:e,end:t})=>{const r=[],n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t.getFullYear(),t.getMonth(),t.getDate());for(;n<=s;)r.push(new Date(n)),n.setDate(n.getDate()+1);return r},pc=(e,t)=>{const r=(t==null?void 0:t.weekStartsOn)??0,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=(n.getDay()-r+7)%7;return n.setDate(n.getDate()-s),n},Dm=(e,t)=>{const r=pc(e,t),n=new Date(r);return n.setDate(r.getDate()+6),n},ut=(e,t)=>{const r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),i=e.getDay();switch(t){case"yyyy-MM-dd":return`${r}-${Ah(n+1)}-${Ah(s)}`;case"MMMM yyyy":return`${Nh[n]} ${r}`;case"MMMM":return Nh[n];case"EEEE, MMM d":return`${pk[i]}, ${Oh[n]} ${s}`;case"EEE, MMM d":return`${mk[i]}, ${Oh[n]} ${s}`;case"d":return String(s);default:return e.toISOString()}},kk=async e=>{const t=ut(Vs(e),"yyyy-MM-dd"),r=ut(Lm(e),"yyyy-MM-dd"),{data:n,error:s}=await le.from("weekly_plans").select("*").gte("planned_date",t).lte("planned_date",r).order("planned_date",{ascending:!0});if(s)throw s;return n},Ek=async e=>{var n;const t=((n=e.meal_name)==null?void 0:n.trim())||null;if(!t&&!e.recipe_id){const{error:s}=await le.from("weekly_plans").delete().eq("planned_date",e.planned_date).eq("slot","main");if(s)throw s;return}const{error:r}=await le.from("weekly_plans").upsert({planned_date:e.planned_date,slot:"main",meal_name:t,recipe_id:e.recipe_id},{onConflict:"user_id,planned_date,slot"});if(r)throw r},bk=async()=>{const e=new Date,t=ut(pc(e,{weekStartsOn:0}),"yyyy-MM-dd"),r=ut(Dm(e,{weekStartsOn:0}),"yyyy-MM-dd"),{data:n,error:s}=await le.from("weekly_plans").select("planned_date, meal_name, recipe_id").gte("planned_date",t).lte("planned_date",r);if(s)throw s;return new Set(n.filter(a=>!!a.meal_name||!!a.recipe_id).map(a=>a.planned_date)).size},xk=()=>{const{displayName:e}=dn(),[t,r]=b.useState(0),[n,s]=b.useState(!0),[i,a]=b.useState(null);return b.useEffect(()=>{let o=!0;return(async()=>{s(!0),a(null);try{const u=await bk();if(!o)return;r(u)}catch(u){const c=u;if(!o)return;a(c.message??"Failed to load dashboard data")}finally{o&&s(!1)}})(),()=>{o=!1}},[]),m.jsxs("div",{className:"container stack",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:e?`Welcome back, ${e}`:"Welcome back"}),m.jsx("p",{className:"page-subtitle",children:"Track this week and jump quickly into your workflow."})]}),m.jsxs(It,{children:[m.jsxs("div",{className:"section-head",children:[m.jsx("h2",{children:"This week"}),m.jsx("span",{className:"badge",children:"Summary"})]}),n?m.jsx(hn,{label:"Loading weekly summary..."}):null,i?m.jsx("p",{className:"error-text",children:i}):null,!n&&!i?m.jsxs("p",{children:[t," day(s) currently planned."]}):null]}),m.jsxs("div",{className:"grid-3",children:[m.jsxs(Rr,{to:"/planner",className:"card text-none",children:[m.jsxs("div",{className:"inline-row mb-04",children:[m.jsx(ck,{size:18}),m.jsx("h3",{children:"Plan meals"})]}),m.jsx("p",{className:"muted",children:"Use the monthly calendar to assign meals by date."})]}),m.jsxs(Rr,{to:"/recipes",className:"card text-none",children:[m.jsxs("div",{className:"inline-row mb-04",children:[m.jsx(hk,{size:18}),m.jsx("h3",{children:"Recipes"})]}),m.jsx("p",{className:"muted",children:"Create and maintain your reusable recipe library."})]}),m.jsxs(Rr,{to:"/shopping-lists",className:"card text-none",children:[m.jsxs("div",{className:"inline-row mb-04",children:[m.jsx(dk,{size:18}),m.jsx("h3",{children:"Shopping Lists"})]}),m.jsx("p",{className:"muted",children:"Build list totals from quantity and item price."})]})]})]})},Um=({open:e,title:t,onClose:r,children:n,footer:s})=>e?m.jsx("div",{className:"modal-overlay",role:"presentation",onClick:r,children:m.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true","aria-label":t,onClick:i=>i.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:t}),m.jsx("button",{className:"icon-button",onClick:r,"aria-label":"Close modal",type:"button",children:m.jsx(fk,{size:18})})]}),m.jsx("div",{className:"modal-body",children:n}),s?m.jsx("div",{className:"modal-footer",children:s}):null]})}):null,$m=async()=>{const{data:e,error:t}=await le.from("recipes").select("*").order("updated_at",{ascending:!1});if(t)throw t;if(!e.length)return[];const r=e.map(a=>a.id),{data:n,error:s}=await le.from("recipe_ingredients").select("*").in("recipe_id",r).order("sort_order",{ascending:!0});if(s)throw s;const i=n.reduce((a,o)=>(a[o.recipe_id]||(a[o.recipe_id]=[]),a[o.recipe_id].push(o),a),{});return e.map(a=>({...a,ingredients:i[a.id]??[]}))},Ck=async e=>{var l,u;const t={title:e.title.trim(),notes:((l=e.notes)==null?void 0:l.trim())||null,image_url:((u=e.image_url)==null?void 0:u.trim())||null},r=e.id?{id:e.id,...t}:t,{data:n,error:s}=await le.from("recipes").upsert(r).select("*").single();if(s)throw s;const{error:i}=await le.from("recipe_ingredients").delete().eq("recipe_id",n.id);if(i)throw i;const a=e.ingredients.map(c=>{var d,h;return{name:c.name.trim(),quantity:((d=c.quantity)==null?void 0:d.trim())||null,unit:((h=c.unit)==null?void 0:h.trim())||null}}).filter(c=>c.name.length>0);let o=[];if(a.length>0){const{data:c,error:d}=await le.from("recipe_ingredients").insert(a.map((h,g)=>({recipe_id:n.id,name:h.name,quantity:h.quantity,unit:h.unit,sort_order:g}))).select("*");if(d)throw d;o=c}return{...n,ingredients:o}},Tk=async e=>{const{error:t}=await le.from("recipes").delete().eq("id",e);if(t)throw t},jk=e=>{const t=Vs(e),r=Lm(e),n=pc(t,{weekStartsOn:0}),s=Dm(r,{weekStartsOn:0});return Sk({start:n,end:s}).map(i=>({date:i,iso:ut(i,"yyyy-MM-dd"),inMonth:wk(i,e),isToday:_k(i,new Date)}))},Rk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Pk=({monthDate:e,plansByDate:t,onSelectDay:r})=>{const n=jk(e),s=n.filter(a=>a.inMonth),i=a=>{var o;return(o=a==null?void 0:a.meal_name)!=null&&o.trim()?a.meal_name:a!=null&&a.recipe_id?"Recipe selected":"No meal planned"};return m.jsxs("div",{className:"calendar-wrap",children:[m.jsxs("div",{className:"calendar-desktop",children:[m.jsx("div",{className:"calendar-weekdays",children:Rk.map(a=>m.jsx("div",{className:"calendar-weekday",children:a},a))}),m.jsx("div",{className:"calendar-grid",children:n.map(a=>{const o=t[a.iso],l=!!(o!=null&&o.meal_name)||!!(o!=null&&o.recipe_id);return m.jsxs("button",{type:"button",className:["calendar-cell",a.inMonth?"":"calendar-cell-out"].join(" ").trim(),onClick:()=>r(a.date),children:[m.jsx("span",{className:["calendar-day",a.isToday?"calendar-day-today":""].join(" ").trim(),children:ut(a.date,"d")}),l?m.jsx("span",{className:"calendar-plan-chip",children:i(o)}):null]},a.iso)})})]}),m.jsx("div",{className:"calendar-mobile-list","aria-label":`${ut(e,"MMMM yyyy")} meal plan`,children:s.map(a=>{const o=t[a.iso],l=!!(o!=null&&o.meal_name)||!!(o!=null&&o.recipe_id);return m.jsxs("button",{type:"button",className:["calendar-mobile-row",l?"calendar-mobile-row-filled":""].join(" ").trim(),onClick:()=>r(a.date),children:[m.jsxs("span",{className:"calendar-mobile-row-head",children:[m.jsx("span",{className:"calendar-mobile-date",children:ut(a.date,"EEE, MMM d")}),a.isToday?m.jsx("span",{className:"calendar-mobile-today",children:"Today"}):null]}),m.jsx("span",{className:["calendar-mobile-meal",l?"calendar-mobile-meal-filled":""].join(" ").trim(),children:i(o)})]},a.iso)})})]})},Nk=Array.from({length:12},(e,t)=>t),Ok=new Date().getFullYear(),Ak=Array.from({length:11},(e,t)=>Ok-5+t),Lk=()=>{const[e,t]=b.useState(Vs(new Date)),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,o]=b.useState(!0),[l,u]=b.useState(!1),[c,d]=b.useState(null),[h,g]=b.useState(null),[y,w]=b.useState(""),[k,p]=b.useState(""),f=b.useMemo(()=>r.reduce((I,G)=>(I[G.planned_date]=G,I),{}),[r]),v=b.useMemo(()=>r.filter(I=>!!I.meal_name||!!I.recipe_id).length,[r]),E=async()=>{o(!0),d(null);try{const[I,G]=await Promise.all([kk(e),$m()]);n(I),i(G)}catch(I){d(I.message??"Failed to load planner data")}finally{o(!1)}};b.useEffect(()=>{E()},[e]);const T=I=>{const G=ut(I,"yyyy-MM-dd"),Z=f[G];g(I),w((Z==null?void 0:Z.recipe_id)??""),p((Z==null?void 0:Z.meal_name)??"")},R=()=>{g(null),w(""),p("")},S=()=>{w(""),p("")},j=async I=>{if(I.preventDefault(),!!h){u(!0),d(null);try{const G=s.find(Re=>Re.id===y),Z=k.trim()||(G==null?void 0:G.title)||null;await Ek({planned_date:ut(h,"yyyy-MM-dd"),meal_name:Z,recipe_id:y||null}),R(),await E()}catch(G){d(G.message??"Failed to save plan")}finally{u(!1)}}},M=I=>{t(G=>{const Z=new Date(G);return Z.setMonth(I),Vs(Z)})},A=I=>{t(G=>{const Z=new Date(G);return Z.setFullYear(I),Vs(Z)})};return m.jsxs("div",{className:"container stack",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Planner"}),m.jsx("p",{className:"page-subtitle",children:"Plan one meal slot per day in a monthly calendar."})]}),m.jsxs(It,{children:[m.jsxs("div",{className:"section-head",children:[m.jsxs("div",{className:"inline-row",children:[m.jsx(ve,{variant:"secondary",onClick:()=>t(I=>gk(I)),children:"Previous"}),m.jsx("h2",{children:ut(e,"MMMM yyyy")}),m.jsxs("span",{className:"badge",children:[v," planned day",v===1?"":"s"]}),m.jsx(ve,{variant:"secondary",onClick:()=>t(I=>Im(I,1)),children:"Next"})]}),m.jsxs("div",{className:"inline-row",children:[m.jsxs("label",{className:"field min-w-150",children:[m.jsx("span",{className:"field-label",children:"Month"}),m.jsx("select",{className:"select",value:vk(e),onChange:I=>M(Number(I.target.value)),children:Nk.map(I=>m.jsx("option",{value:I,children:ut(new Date(2024,I,1),"MMMM")},I))})]}),m.jsxs("label",{className:"field min-w-120",children:[m.jsx("span",{className:"field-label",children:"Year"}),m.jsx("select",{className:"select",value:yk(e),onChange:I=>A(Number(I.target.value)),children:Ak.map(I=>m.jsx("option",{value:I,children:I},I))})]})]})]}),m.jsx("p",{className:"muted mb-05",children:"Tap a day to add, edit, or clear your meal plan."}),a?m.jsx(hn,{label:"Loading calendar..."}):null,c?m.jsx("p",{className:"error-text",children:c}):null,a?null:m.jsx(Pk,{monthDate:e,plansByDate:f,onSelectDay:T})]}),m.jsx(Um,{open:!!h,title:h?`Plan for ${ut(h,"EEEE, MMM d")}`:"Plan day",onClose:R,footer:m.jsxs(m.Fragment,{children:[m.jsx(ve,{variant:"secondary",onClick:R,type:"button",children:"Cancel"}),m.jsx(ve,{variant:"secondary",onClick:S,type:"button",children:"Clear fields"}),m.jsx(ve,{loading:l,type:"submit",form:"save-day-form",children:"Save day"})]}),children:m.jsxs("form",{id:"save-day-form",className:"stack",onSubmit:j,children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Recipe (optional)"}),m.jsxs("select",{className:"select",value:y,onChange:I=>w(I.target.value),children:[m.jsx("option",{value:"",children:"No recipe selected"}),s.map(I=>m.jsx("option",{value:I.id,children:I.title},I.id))]})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Meal name"}),m.jsx("input",{className:"input",value:k,onChange:I=>p(I.target.value),placeholder:"Quick entry, e.g. Chicken Bowl"}),m.jsx("span",{className:"help-text",children:"Leave empty to use selected recipe title, or clear all fields to remove plan."})]})]})})]})},sa=()=>({name:"",quantity:"",unit:""}),Ik=({open:e,recipe:t,saving:r,onClose:n,onSave:s})=>{const[i,a]=b.useState(""),[o,l]=b.useState(""),[u,c]=b.useState(""),[d,h]=b.useState([sa()]);b.useEffect(()=>{e&&(a((t==null?void 0:t.title)??""),l((t==null?void 0:t.notes)??""),c((t==null?void 0:t.image_url)??""),h(t!=null&&t.ingredients.length?t.ingredients.map(k=>({name:k.name,quantity:k.quantity??"",unit:k.unit??""})):[sa()]))},[e,t]);const g=async k=>{k.preventDefault(),await s({id:t==null?void 0:t.id,title:i,notes:o,image_url:u,ingredients:d})},y=(k,p,f)=>{h(v=>v.map((E,T)=>T===k?{...E,[p]:f}:E))},w=k=>{h(p=>{const f=p.filter((v,E)=>E!==k);return f.length?f:[sa()]})};return m.jsx(Um,{open:e,title:t?"Edit recipe":"Add recipe",onClose:n,footer:m.jsxs(m.Fragment,{children:[m.jsx(ve,{variant:"secondary",type:"button",onClick:n,children:"Cancel"}),m.jsx(ve,{type:"submit",form:"recipe-editor-form",loading:r,children:"Save recipe"})]}),children:m.jsxs("form",{id:"recipe-editor-form",className:"stack",onSubmit:g,children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Title"}),m.jsx("input",{className:"input",value:i,onChange:k=>a(k.target.value),required:!0})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Notes"}),m.jsx("textarea",{className:"textarea",rows:3,value:o,onChange:k=>l(k.target.value),placeholder:"Optional instructions or notes"})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Image URL"}),m.jsx("input",{className:"input",type:"url",value:u,onChange:k=>c(k.target.value),placeholder:"Optional image URL"}),m.jsx("span",{className:"help-text",children:"Storage upload is scaffolded via `recipe-images` bucket in the service layer."})]}),m.jsxs("div",{className:"stack",children:[m.jsxs("div",{className:"section-head mb-0",children:[m.jsx("h3",{children:"Ingredients"}),m.jsx(ve,{type:"button",variant:"secondary",onClick:()=>h(k=>[...k,sa()]),children:"Add row"})]}),d.map((k,p)=>m.jsxs("div",{className:"grid-3",children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Name"}),m.jsx("input",{className:"input",value:k.name,onChange:f=>y(p,"name",f.target.value),placeholder:"Ingredient"})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Quantity"}),m.jsx("input",{className:"input",value:k.quantity,onChange:f=>y(p,"quantity",f.target.value),placeholder:"2"})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Unit"}),m.jsxs("div",{className:"inline-row",children:[m.jsx("input",{className:"input",value:k.unit,onChange:f=>y(p,"unit",f.target.value),placeholder:"cups"}),m.jsx(ve,{type:"button",variant:"danger",onClick:()=>w(p),children:"Remove"})]})]})]},`ingredient-${p}`))]})]})})},Dk=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(!1),[a,o]=b.useState(null),[l,u]=b.useState(!1),[c,d]=b.useState(void 0),h=async()=>{n(!0),o(null);try{const p=await $m();t(p)}catch(p){o(p.message??"Failed to load recipes")}finally{n(!1)}};b.useEffect(()=>{h()},[]);const g=()=>{d(void 0),u(!0)},y=p=>{d(p),u(!0)},w=async p=>{i(!0),o(null);try{await Ck(p),u(!1),await h()}catch(f){o(f.message??"Failed to save recipe")}finally{i(!1)}},k=async p=>{if(window.confirm("Delete this recipe?")){o(null);try{await Tk(p),await h()}catch(v){o(v.message??"Failed to delete recipe")}}};return m.jsxs("div",{className:"container stack",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Recipes"}),m.jsx("p",{className:"page-subtitle",children:"Create and edit your meal recipes and ingredients."})]}),m.jsxs(It,{children:[m.jsxs("div",{className:"section-head",children:[m.jsx("h2",{children:"Your recipes"}),m.jsx(ve,{onClick:g,children:"Add recipe"})]}),r?m.jsx(hn,{label:"Loading recipes..."}):null,a?m.jsx("p",{className:"error-text",children:a}):null,!r&&e.length===0?m.jsx("p",{className:"empty-state",children:"No recipes yet. Add your first one."}):null,m.jsx("div",{className:"stack",children:e.map(p=>m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"section-head mb-05",children:[m.jsxs("div",{children:[m.jsx("h3",{children:p.title}),m.jsxs("p",{className:"muted",children:[p.ingredients.length," ingredient(s)"]})]}),m.jsxs("div",{className:"inline-row",children:[m.jsx(ve,{variant:"secondary",onClick:()=>y(p),children:"Edit"}),m.jsx(ve,{variant:"danger",onClick:()=>k(p.id),children:"Delete"})]})]}),p.notes?m.jsx("p",{className:"mb-055",children:p.notes}):null,p.image_url?m.jsxs("p",{className:"muted",children:["Image: ",p.image_url]}):null,p.ingredients.length>0?m.jsx("div",{className:"inline-row",children:p.ingredients.map(f=>m.jsxs("span",{className:"badge",children:[f.name,f.quantity?` ${f.quantity}`:"",f.unit?` ${f.unit}`:""]},f.id))}):m.jsx("p",{className:"muted",children:"No ingredients added."})]},p.id))})]}),m.jsx(Ik,{open:l,recipe:c,saving:s,onClose:()=>u(!1),onSave:w})]})},Uk=async()=>{const{data:e,error:t}=await le.from("profiles").select("*").maybeSingle();if(t)throw t;return e},$k=async e=>{const{data:{user:t},error:r}=await le.auth.getUser();if(r)throw r;if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await le.from("profiles").upsert({id:t.id,email:t.email??"",display_name:e.display_name},{onConflict:"id"}).select("*").single();if(s)throw s;return n},Mk=()=>{const{user:e}=dn(),[t,r]=b.useState(""),[n,s]=b.useState(!1),[i,a]=b.useState(!0),[o,l]=b.useState(null),[u,c]=b.useState(null);b.useEffect(()=>{let h=!0;return(async()=>{a(!0),l(null);try{const y=await Uk();if(!h)return;r((y==null?void 0:y.display_name)??"")}catch(y){h&&l(y.message??"Failed to load profile")}finally{h&&a(!1)}})(),()=>{h=!1}},[]);const d=async h=>{h.preventDefault(),s(!0),c(null),l(null);try{await $k({display_name:t.trim()||null}),c("Profile saved.")}catch(g){l(g.message??"Failed to save profile")}finally{s(!1)}};return m.jsxs("div",{className:"container stack",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Settings"}),m.jsx("p",{className:"page-subtitle",children:"Manage profile details and sign out."})]}),m.jsx(Om,{}),m.jsx(It,{className:"max-w-620",children:m.jsxs("form",{className:"stack",onSubmit:d,children:[m.jsxs("p",{className:"muted",children:["Signed in as: ",(e==null?void 0:e.email)??"Unknown"]}),m.jsx(rs,{id:"display-name",label:"Display name",value:t,onChange:h=>r(h.target.value),placeholder:"How your name appears in the app",disabled:i}),o?m.jsx("p",{className:"error-text",children:o}):null,u?m.jsx("p",{className:"help-text",children:u}):null,m.jsxs("div",{className:"inline-row",children:[m.jsx(ve,{type:"submit",loading:n,disabled:i,children:"Save profile"}),m.jsx(ve,{type:"button",variant:"danger",onClick:nk,children:"Log out"})]})]})})]})},Lh=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Os=e=>Number(e.toFixed(2)),Fk=e=>Os(e.reduce((t,r)=>t+r.quantity*r.price,0)),zk=async()=>{const{data:e,error:t}=await le.from("grocery_lists").select("*").order("updated_at",{ascending:!1});if(t)throw t;if(!e.length)return[];const r=e.map(a=>a.id),{data:n,error:s}=await le.from("grocery_list_items").select("*").in("list_id",r).order("created_at",{ascending:!0});if(s)throw s;const i=n.reduce((a,o)=>(a[o.list_id]||(a[o.list_id]=[]),a[o.list_id].push(o),a),{});return e.map(a=>{const o=i[a.id]??[];return{...a,items:o,total:Fk(o)}})},Bk=async e=>{const{data:t,error:r}=await le.from("grocery_lists").insert({name:e.trim()}).select("*").single();if(r)throw r;return t},Wk=async(e,t)=>{const{error:r}=await le.from("grocery_lists").update({name:t.trim()}).eq("id",e);if(r)throw r},Vk=async e=>{const{error:t}=await le.from("grocery_lists").delete().eq("id",e);if(t)throw t},Ih=async e=>{const t=Number.isFinite(e.quantity)?e.quantity:0,r=Number.isFinite(e.price)?e.price:0,n=e.id?{id:e.id,list_id:e.list_id,name:e.name.trim(),quantity:Os(t),price:Os(r)}:{list_id:e.list_id,name:e.name.trim(),quantity:Os(t),price:Os(r)},{data:s,error:i}=await le.from("grocery_list_items").upsert(n).select("*").single();if(i)throw i;return s},Hk=async e=>{const{error:t}=await le.from("grocery_list_items").delete().eq("id",e);if(t)throw t},qk=({list:e,onRefresh:t,onError:r})=>{const[n,s]=b.useState(e.name),[i,a]=b.useState(""),[o,l]=b.useState("1"),[u,c]=b.useState("0"),[d,h]=b.useState(!1);b.useEffect(()=>{s(e.name)},[e.id,e.name]);const g=async p=>{p.preventDefault(),h(!0),r(null);try{await Wk(e.id,n),await t()}catch(f){r(f.message??"Failed to rename list")}finally{h(!1)}},y=async p=>{p.preventDefault(),h(!0),r(null);try{await Ih({list_id:e.id,name:i,quantity:Number(o),price:Number(u)}),a(""),l("1"),c("0"),await t()}catch(f){r(f.message??"Failed to add item")}finally{h(!1)}},w=async(p,f,v)=>{h(!0),r(null);const E=e.items.find(T=>T.id===p);if(!E){h(!1);return}try{await Ih({id:E.id,list_id:E.list_id,name:E.name,quantity:f==="quantity"?v:E.quantity,price:f==="price"?v:E.price}),await t()}catch(T){r(T.message??"Failed to update item")}finally{h(!1)}},k=async p=>{h(!0),r(null);try{await Hk(p),await t()}catch(f){r(f.message??"Failed to delete item")}finally{h(!1)}};return m.jsxs("div",{className:"stack",children:[m.jsxs("form",{className:"inline-row",onSubmit:g,children:[m.jsx("input",{className:"input",value:n,onChange:p=>s(p.target.value),required:!0}),m.jsx(ve,{type:"submit",loading:d,children:"Rename"})]}),m.jsxs("form",{className:"grid-3",onSubmit:y,children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Item"}),m.jsx("input",{className:"input",value:i,onChange:p=>a(p.target.value),placeholder:"Milk",required:!0})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Quantity"}),m.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",value:o,onChange:p=>l(p.target.value),required:!0})]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Price (USD)"}),m.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",value:u,onChange:p=>c(p.target.value),required:!0})]}),m.jsx(ve,{type:"submit",loading:d,children:"Add item"})]}),e.items.length===0?m.jsx("p",{className:"empty-state",children:"No items yet for this list."}):null,m.jsx("div",{className:"stack",children:e.items.map(p=>m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"section-head mb-035",children:[m.jsx("h3",{children:p.name}),m.jsx(ve,{variant:"danger",onClick:()=>k(p.id),loading:d,children:"Delete"})]}),m.jsxs("div",{className:"grid-2",children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Quantity"}),m.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",defaultValue:p.quantity,onBlur:f=>w(p.id,"quantity",Number(f.target.value))},`${p.id}-quantity-${p.updated_at}`)]}),m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"Price (USD)"}),m.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",defaultValue:p.price,onBlur:f=>w(p.id,"price",Number(f.target.value))},`${p.id}-price-${p.updated_at}`)]})]}),m.jsxs("p",{className:"muted mt-055",children:["Line total: ",Lh(p.quantity*p.price)]})]},p.id))}),m.jsxs("h3",{children:["Total basket value: ",Lh(e.total)]})]})},Kk=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(""),[a,o]=b.useState(!0),[l,u]=b.useState(!1),[c,d]=b.useState(null),h=b.useMemo(()=>e.find(k=>k.id===r)??null,[r,e]),g=async()=>{var k;o(!0),d(null);try{const p=await zk();t(p),!r&&p[0]&&n(p[0].id),r&&!p.some(f=>f.id===r)&&n(((k=p[0])==null?void 0:k.id)??null)}catch(p){d(p.message??"Failed to load shopping lists")}finally{o(!1)}};b.useEffect(()=>{g()},[]);const y=async k=>{k.preventDefault(),u(!0),d(null);try{const p=await Bk(s);i(""),n(p.id),await g()}catch(p){d(p.message??"Failed to create list")}finally{u(!1)}},w=async()=>{if(!(!h||!window.confirm(`Delete shopping list "${h.name}"?`))){u(!0),d(null);try{await Vk(h.id),await g()}catch(p){d(p.message??"Failed to delete list")}finally{u(!1)}}};return m.jsxs("div",{className:"container stack",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Shopping Lists"}),m.jsx("p",{className:"page-subtitle",children:"Save multiple lists and track exact basket totals."})]}),m.jsxs("div",{className:"grid-2 grid-align-start",children:[m.jsxs(It,{children:[m.jsxs("div",{className:"section-head",children:[m.jsx("h2",{children:"Lists"}),m.jsx("span",{className:"badge",children:e.length})]}),m.jsxs("form",{className:"stack",onSubmit:y,children:[m.jsxs("label",{className:"field",children:[m.jsx("span",{className:"field-label",children:"New list name"}),m.jsx("input",{className:"input",value:s,onChange:k=>i(k.target.value),placeholder:"Weekly groceries",required:!0})]}),m.jsx(ve,{type:"submit",loading:l,children:"Create list"})]}),m.jsxs("div",{className:"stack mt-1",children:[a?m.jsx(hn,{label:"Loading lists..."}):null,c?m.jsx("p",{className:"error-text",children:c}):null,!a&&e.length===0?m.jsx("p",{className:"empty-state",children:"No lists yet. Create your first one."}):null,e.map(k=>m.jsxs("button",{type:"button",className:["card","list-select-card",r===k.id?"active":""].join(" ").trim(),onClick:()=>n(k.id),children:[m.jsx("h3",{children:k.name}),m.jsxs("p",{className:"muted",children:[k.items.length," item(s) | $",k.total.toFixed(2)]})]},k.id))]})]}),m.jsx(It,{children:h?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"section-head",children:[m.jsx("h2",{children:h.name}),m.jsx(ve,{variant:"danger",onClick:w,loading:l,children:"Delete list"})]}),m.jsx(qk,{list:h,onRefresh:g,onError:d})]}):m.jsx("p",{className:"empty-state",children:"Select a shopping list to edit items."})})]})]})},Gk=()=>m.jsx("footer",{className:"footer",children:m.jsx("div",{className:"container",children:m.jsxs("span",{className:"footer-text",children:["Designed with"," ",m.jsx("span",{className:"footer-heart","aria-hidden":"true",children:""})," ","by Melvin's Studios"]})})}),Jk=[{to:"/dashboard",label:"Dashboard"},{to:"/planner",label:"Planner"},{to:"/recipes",label:"Recipes"},{to:"/shopping-lists",label:"Shopping Lists"},{to:"/settings",label:"Settings"}],Qk="/madfood/logo-mark.png?v=20260225",Yk=()=>{const{user:e}=dn();return m.jsx("header",{className:"topnav",children:m.jsxs("div",{className:"container topnav-row",children:[m.jsxs(Rr,{to:e?"/dashboard":"/login",className:"brand","aria-label":"MadFood home",children:[m.jsx("img",{src:Qk,className:"brand-logo",alt:"","aria-hidden":"true"}),m.jsx("span",{children:"MadFood"})]}),m.jsx("nav",{className:"nav-links","aria-label":"Primary",children:e?Jk.map(t=>m.jsx(nh,{to:t.to,className:({isActive:r})=>["nav-link",r?"active":""].join(" ").trim(),children:t.label},t.to)):m.jsx(nh,{to:"/login",className:({isActive:t})=>["nav-link",t?"active":""].join(" ").trim(),children:"Login"})})]})})},Xk=()=>m.jsxs("div",{className:"app-shell",children:[m.jsx(Yk,{}),m.jsx("main",{className:"content",children:m.jsx(Jw,{})}),m.jsx(Gk,{})]}),xs=({children:e})=>{const{user:t,loading:r}=dn();return r?m.jsx("div",{className:"container",children:m.jsx(hn,{label:"Checking session..."})}):t?e:m.jsx(Ei,{to:"/login",replace:!0})},Zk=()=>{const{user:e,loading:t}=dn();return t?m.jsx("div",{className:"container",children:m.jsx(hn,{label:"Loading MadFood..."})}):m.jsx(Ei,{to:e?"/dashboard":"/login",replace:!0})},eE=n0([{path:"/",element:m.jsx(Xk,{}),children:[{index:!0,element:m.jsx(Zk,{})},{path:"login",element:m.jsx(sk,{})},{path:"reset-password",element:m.jsx(ik,{})},{path:"update-password",element:m.jsx(ak,{})},{path:"dashboard",element:m.jsx(xs,{children:m.jsx(xk,{})})},{path:"planner",element:m.jsx(xs,{children:m.jsx(Lk,{})})},{path:"recipes",element:m.jsx(xs,{children:m.jsx(Dk,{})})},{path:"shopping-lists",element:m.jsx(xs,{children:m.jsx(Kk,{})})},{path:"settings",element:m.jsx(xs,{children:m.jsx(Mk,{})})},{path:"*",element:m.jsx(Ei,{to:"/",replace:!0})}]}],{basename:"/madfood/".replace(/\/$/,"")||"/"}),tE=()=>m.jsx(YS,{children:m.jsx(d0,{router:eE})});Ly({immediate:!0});Yp(document.getElementById("root")).render(m.jsx(b.StrictMode,{children:m.jsx(tE,{})}));
